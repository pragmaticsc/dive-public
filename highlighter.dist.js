function a0_0xdbf9(_0x243a0a,_0x3a7b52){const _0x441ed1=a0_0x441e();return a0_0xdbf9=function(_0xdbf9f8,_0x45ba89){_0xdbf9f8=_0xdbf9f8-0x17c;let _0x40c6b8=_0x441ed1[_0xdbf9f8];return _0x40c6b8;},a0_0xdbf9(_0x243a0a,_0x3a7b52);}function a0_0x441e(){const _0x545925=['createRange','Explain\x20clicked,\x20opening\x20sidebar','keydown','createTextNode','1496MWlGSK','nextSibling','highlighter-root','30px','Highlighter\x20initialized,\x20menu\x20hidden:','Sidebar\x20opened\x20for\x20no\x20selection,\x20classList:','scrollY','fetchApi','left','highlighter-side-panel','key','#highlighterPanelTitle','selectionRange','buttonTop','startContainer','POST','highlight\x20mode:','error','closePanelBtn','applyHighlight','getBoundingClientRect','parentNode','closeSidePanel','application/json','isHighlightMode','mouseup','elaborateBtn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighterClosePanelBtn\x22>Close</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20id=\x22highlighterPanelTitle\x22>Explanation</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighterExplanationContent\x22></div>\x0a\x20\x20\x20\x20\x20\x20','appendChild','explain','content','click','Explanation','firstChild','API\x20response\x20status:','nodeName','buttonLeft','<div\x20class=\x22highlighter-spinner-wrapper\x22><div\x20class=\x22highlighter-spinner\x22></div></div>','1307457ldKHZf','27YqFrkl','https://faas-nyc1-2ef2e6cc.doserverless.co/api/v1/web/fn-a25b91e2-eb0e-4b0e-a7d2-9c54519d6c5e/default','text\x20highlighted:','expandRangeToWords','highlightBtn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20span.highlight\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#fef08a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','add','head','createElement','toggle','nextNode','highlight','body','target','querySelectorAll','replace','setEndAfter','clearHighlights',';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x20','17437sxEVHj','classList','highlighterBtn','summarize','stringify','attachShadow','Highlight\x20error:','transform','\x5c$&','220px','rangeCount','After\x20Escape,\x20menu\x20hidden:','apiEndpoint','style','status','selectNodeContents','has','className','buttonLeft:','\x20error:','hidden','scrollX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighterLearnMoreBtn\x22>Explain</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighterElaborateBtn\x22>Elaborate</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighterSummarizeBtn\x22\x20class=\x22hidden\x22>Summarize</button>\x0a\x20\x20\x20\x20\x20\x20','isParagraphSelected','#highlighterClosePanelBtn','[data-highlighter=\x22content\x22]','highlighterMenu','toString','TEXT_NODE','getSelection','transform:','Sidebar\x20closed,\x20classList:','1196502FkIsjv','learnMoreBtn','replaceChild','Elaborate\x20clicked,\x20opening\x20sidebar','contentSelector','panelTitle','buttonTop:','join','setupEventListeners','in\x20','textContent','26948LSBHUl','518906qjsduR','explanationContent','addEventListener','highlightMenu','includes','innerHTML','closest','push','setStartBefore','log','282632Pmqeea','hideMenu','Fetch\x20','Trimmed\x20selection:','shadowRoot','API\x20endpoint:','Summarize\x20clicked,\x20opening\x20sidebar','div','querySelector','commonAncestorContainer',';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2030;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x201px\x203px\x201px\x20rgba(0,\x200,\x200,\x200.06);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20outline:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-button.active\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#fef08a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-button\x20svg\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fill:\x20#333333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-menu\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#1f2937;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x206px\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20row;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-menu\x20button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x204px\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-menu\x20button:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#374151;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.hidden\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-side-panel\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20320px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x20-2px\x200\x208px\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(100%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease-in-out;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2099999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-side-panel.open\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-side-panel\x20button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ef4444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-side-panel\x20h2\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-spinner-wrapper\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-spinner\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x206px\x20solid\x20#f3f3f3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x206px\x20solid\x20#3498db;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20spin\x201s\x20linear\x20infinite;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20@keyframes\x20spin\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x20transform:\x20rotate(0deg);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x20transform:\x20rotate(360deg);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','5XWNNNH','forEach','json','parentElement','setStart','length','createShadowDOM','summarizeBtn','536SXrHQX','trim','getSelectionContext','toLowerCase','Failed\x20to\x20load\x20','sidePanel','elaborate','setEnd','startOffset','open','active','endContainer','normalize','\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x20','surroundContents','remove','button','options','#highlighterElaborateBtn','#highlighterSummarizeBtn','contains','18010sNfggf','test','endOffset','nodeType'];a0_0x441e=function(){return _0x545925;};return a0_0x441e();}(function(_0x50a78e,_0x41991f){const _0x359bf1=a0_0xdbf9,_0x21ff94=_0x50a78e();while(!![]){try{const _0x2b97a8=-parseInt(_0x359bf1(0x1ca))/0x1+parseInt(_0x359bf1(0x1c0))/0x2+-parseInt(_0x359bf1(0x181))/0x3*(parseInt(_0x359bf1(0x1bf))/0x4)+-parseInt(_0x359bf1(0x1d5))/0x5*(-parseInt(_0x359bf1(0x1b4))/0x6)+-parseInt(_0x359bf1(0x194))/0x7*(-parseInt(_0x359bf1(0x1dd))/0x8)+parseInt(_0x359bf1(0x180))/0x9+-parseInt(_0x359bf1(0x1f2))/0xa*(parseInt(_0x359bf1(0x1fa))/0xb);if(_0x2b97a8===_0x41991f)break;else _0x21ff94['push'](_0x21ff94['shift']());}catch(_0x475e36){_0x21ff94['push'](_0x21ff94['shift']());}}}(a0_0x441e,0x2ca37),(function(){const _0xb592c5=a0_0xdbf9;class _0x1c9c9d{constructor(_0x305a4f={}){const _0x6e5141=a0_0xdbf9;this[_0x6e5141(0x1ee)]={'apiEndpoint':_0x305a4f[_0x6e5141(0x1a0)]||_0x6e5141(0x182),'contentSelector':_0x305a4f[_0x6e5141(0x1b8)]||_0x6e5141(0x1ad),'buttonTop':_0x305a4f['buttonTop']||_0x6e5141(0x19d),'buttonLeft':_0x305a4f[_0x6e5141(0x17e)]||_0x6e5141(0x1fd)},this[_0x6e5141(0x212)]=![],this['selectionRange']=null,this[_0x6e5141(0x1ce)]=null,this['init']();}['init'](){const _0x13bc3e=a0_0xdbf9;this[_0x13bc3e(0x1db)](),this[_0x13bc3e(0x1bc)](),console[_0x13bc3e(0x1c9)](_0x13bc3e(0x1fe),this[_0x13bc3e(0x1c3)][_0x13bc3e(0x195)]['contains'](_0x13bc3e(0x1a8)),_0x13bc3e(0x1cf),this['options'][_0x13bc3e(0x1a0)],_0x13bc3e(0x1ba),this[_0x13bc3e(0x1ee)][_0x13bc3e(0x207)],_0x13bc3e(0x1a6),this[_0x13bc3e(0x1ee)][_0x13bc3e(0x17e)]);}[_0xb592c5(0x1db)](){const _0x59c2d0=_0xb592c5,_0x234807=document['createElement'](_0x59c2d0(0x1d1));_0x234807['id']=_0x59c2d0(0x1fc),document['body'][_0x59c2d0(0x216)](_0x234807),this[_0x59c2d0(0x1ce)]=_0x234807[_0x59c2d0(0x199)]({'mode':_0x59c2d0(0x1e6)});const _0x10f854=document['createElement'](_0x59c2d0(0x1a1));_0x10f854[_0x59c2d0(0x1be)]=_0x59c2d0(0x1ea)+this[_0x59c2d0(0x1ee)][_0x59c2d0(0x207)]+_0x59c2d0(0x193)+this[_0x59c2d0(0x1ee)]['buttonLeft']+_0x59c2d0(0x1d4),this[_0x59c2d0(0x1ce)][_0x59c2d0(0x216)](_0x10f854);const _0x5df2e0=document['createElement'](_0x59c2d0(0x1a1));_0x5df2e0[_0x59c2d0(0x1be)]=_0x59c2d0(0x186),document[_0x59c2d0(0x188)][_0x59c2d0(0x216)](_0x5df2e0),this[_0x59c2d0(0x185)]=document['createElement'](_0x59c2d0(0x1ed)),this[_0x59c2d0(0x185)]['id']=_0x59c2d0(0x196),this[_0x59c2d0(0x185)]['className']='highlighter-button',this[_0x59c2d0(0x185)][_0x59c2d0(0x1c5)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20width=\x2224\x22\x20height=\x2224\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<path\x20d=\x22M4\x2018h16l-2-10H6l-2\x2010zm10-12h-4V4h4v2zm-2\x2012.5a1.5\x201.5\x200\x201\x201\x200-3\x201.5\x201.5\x200\x200\x201\x200\x203z\x22/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20',this[_0x59c2d0(0x1ce)][_0x59c2d0(0x216)](this[_0x59c2d0(0x185)]),this[_0x59c2d0(0x1c3)]=document[_0x59c2d0(0x189)]('div'),this[_0x59c2d0(0x1c3)]['id']=_0x59c2d0(0x1ae),this[_0x59c2d0(0x1c3)]['className']='highlighter-menu\x20hidden',this[_0x59c2d0(0x1c3)][_0x59c2d0(0x1c5)]=_0x59c2d0(0x1aa),this[_0x59c2d0(0x1ce)][_0x59c2d0(0x216)](this['highlightMenu']),this[_0x59c2d0(0x1e2)]=document[_0x59c2d0(0x189)](_0x59c2d0(0x1d1)),this[_0x59c2d0(0x1e2)]['id']='highlighterSidePanel',this[_0x59c2d0(0x1e2)][_0x59c2d0(0x1a5)]=_0x59c2d0(0x203),this[_0x59c2d0(0x1e2)]['innerHTML']=_0x59c2d0(0x215),this[_0x59c2d0(0x1ce)][_0x59c2d0(0x216)](this[_0x59c2d0(0x1e2)]),this['content']=document[_0x59c2d0(0x1d2)](this[_0x59c2d0(0x1ee)][_0x59c2d0(0x1b8)])||document[_0x59c2d0(0x18d)],this[_0x59c2d0(0x1b5)]=this[_0x59c2d0(0x1ce)]['querySelector']('#highlighterLearnMoreBtn'),this[_0x59c2d0(0x214)]=this['shadowRoot'][_0x59c2d0(0x1d2)](_0x59c2d0(0x1ef)),this[_0x59c2d0(0x1dc)]=this['shadowRoot'][_0x59c2d0(0x1d2)](_0x59c2d0(0x1f0)),this[_0x59c2d0(0x20c)]=this['shadowRoot']['querySelector'](_0x59c2d0(0x1ac)),this[_0x59c2d0(0x1c1)]=this[_0x59c2d0(0x1ce)][_0x59c2d0(0x1d2)]('#highlighterExplanationContent'),this[_0x59c2d0(0x1b9)]=this['shadowRoot']['querySelector'](_0x59c2d0(0x205));}[_0xb592c5(0x1bc)](){const _0x5c9ebc=_0xb592c5;this[_0x5c9ebc(0x185)]['addEventListener'](_0x5c9ebc(0x219),()=>{const _0x34fd3e=_0x5c9ebc;this[_0x34fd3e(0x212)]=!this[_0x34fd3e(0x212)],this['highlightBtn'][_0x34fd3e(0x195)][_0x34fd3e(0x18a)](_0x34fd3e(0x1e7),this[_0x34fd3e(0x212)]),!this['isHighlightMode']&&(this[_0x34fd3e(0x192)](),this[_0x34fd3e(0x1cb)]()),console[_0x34fd3e(0x1c9)]('Highlight\x20mode:',this[_0x34fd3e(0x212)]);}),this[_0x5c9ebc(0x218)][_0x5c9ebc(0x1c2)](_0x5c9ebc(0x213),_0x132bce=>{const _0x152ae3=_0x5c9ebc;if(!this[_0x152ae3(0x212)])return;const _0x880b8f=window[_0x152ae3(0x1b1)]();if(_0x880b8f[_0x152ae3(0x19e)]>0x0&&_0x880b8f[_0x152ae3(0x1af)]()['trim']()){this[_0x152ae3(0x192)](),this[_0x152ae3(0x206)]=_0x880b8f['getRangeAt'](0x0),this[_0x152ae3(0x184)](this[_0x152ae3(0x206)]);try{this[_0x152ae3(0x20d)](this[_0x152ae3(0x206)]);}catch(_0x2bb216){console[_0x152ae3(0x20b)](_0x152ae3(0x19a),_0x2bb216);return;}const _0x21ead1=this[_0x152ae3(0x206)][_0x152ae3(0x20e)]();this[_0x152ae3(0x1c3)][_0x152ae3(0x1a1)]['top']=_0x21ead1['top']+window[_0x152ae3(0x200)]-0x28+'px',this[_0x152ae3(0x1c3)][_0x152ae3(0x1a1)][_0x152ae3(0x202)]=_0x21ead1['left']+window[_0x152ae3(0x1a9)]+'px',this[_0x152ae3(0x1c3)][_0x152ae3(0x195)]['remove']('hidden'),this['summarizeBtn'][_0x152ae3(0x195)][_0x152ae3(0x18a)](_0x152ae3(0x1a8),!this[_0x152ae3(0x1ab)]()),console[_0x152ae3(0x1c9)]('Menu\x20shown,\x20Summarize\x20hidden:',this[_0x152ae3(0x1dc)][_0x152ae3(0x195)][_0x152ae3(0x1f1)]('hidden'));}}),this[_0x5c9ebc(0x1b5)]['addEventListener'](_0x5c9ebc(0x219),()=>{const _0x37f4f8=_0x5c9ebc;console[_0x37f4f8(0x1c9)](_0x37f4f8(0x1f7)),this['fetchApi'](_0x37f4f8(0x217),_0x37f4f8(0x21a));}),this[_0x5c9ebc(0x214)]['addEventListener'](_0x5c9ebc(0x219),()=>{const _0x15629b=_0x5c9ebc;console[_0x15629b(0x1c9)](_0x15629b(0x1b7)),this[_0x15629b(0x201)](_0x15629b(0x1e3),'Elaboration');}),this[_0x5c9ebc(0x1dc)]['addEventListener'](_0x5c9ebc(0x219),()=>{const _0x375ccf=_0x5c9ebc;console[_0x375ccf(0x1c9)](_0x375ccf(0x1d0)),this[_0x375ccf(0x201)](_0x375ccf(0x197),'Summary');}),this[_0x5c9ebc(0x20c)][_0x5c9ebc(0x1c2)](_0x5c9ebc(0x219),()=>this[_0x5c9ebc(0x210)]()),document['addEventListener'](_0x5c9ebc(0x219),_0x1788be=>{const _0x12f871=_0x5c9ebc,_0x126416=_0x1788be['composedPath']()[_0x12f871(0x1c4)](this[_0x12f871(0x1ce)]),_0x18171c=this[_0x12f871(0x218)]['contains'](_0x1788be[_0x12f871(0x18e)]);this[_0x12f871(0x1e2)]['classList']['contains'](_0x12f871(0x1e6))&&!_0x126416&&_0x1788be[_0x12f871(0x18e)]!==this[_0x12f871(0x1b5)]&&_0x1788be['target']!==this[_0x12f871(0x214)]&&_0x1788be[_0x12f871(0x18e)]!==this['summarizeBtn']&&this[_0x12f871(0x210)](),this[_0x12f871(0x212)]&&!_0x18171c&&!_0x126416&&_0x1788be['target']!==this['learnMoreBtn']&&_0x1788be[_0x12f871(0x18e)]!==this[_0x12f871(0x214)]&&_0x1788be[_0x12f871(0x18e)]!==this[_0x12f871(0x1dc)]&&(this[_0x12f871(0x192)](),this[_0x12f871(0x1cb)]());}),document[_0x5c9ebc(0x1c2)](_0x5c9ebc(0x1f8),_0x47d98d=>{const _0xfb42c5=_0x5c9ebc;if(_0x47d98d[_0xfb42c5(0x204)]==='Escape'){console[_0xfb42c5(0x1c9)]('Escape\x20pressed,\x20sidebar\x20open:',this[_0xfb42c5(0x1e2)]['classList'][_0xfb42c5(0x1f1)]('open'),_0xfb42c5(0x183),!!this[_0xfb42c5(0x206)],_0xfb42c5(0x20a),this[_0xfb42c5(0x212)]);if(this['sidePanel'][_0xfb42c5(0x195)][_0xfb42c5(0x1f1)]('open'))this['closeSidePanel']();else{if(this[_0xfb42c5(0x206)])this[_0xfb42c5(0x192)](),this[_0xfb42c5(0x1cb)]();else this[_0xfb42c5(0x212)]&&(this['isHighlightMode']=![],this[_0xfb42c5(0x185)][_0xfb42c5(0x195)][_0xfb42c5(0x1ec)](_0xfb42c5(0x1e7)));}console[_0xfb42c5(0x1c9)](_0xfb42c5(0x19f),this[_0xfb42c5(0x1c3)][_0xfb42c5(0x195)]['contains'](_0xfb42c5(0x1a8)),'highlight\x20mode:',this[_0xfb42c5(0x212)]);}});}async[_0xb592c5(0x201)](_0x5ece88,_0x48083a){const _0x4d2664=_0xb592c5;if(!this[_0x4d2664(0x206)]){this[_0x4d2664(0x1c1)][_0x4d2664(0x1be)]='No\x20text\x20selected.',this[_0x4d2664(0x1e2)]['classList'][_0x4d2664(0x187)](_0x4d2664(0x1e6)),console[_0x4d2664(0x1c9)](_0x4d2664(0x1ff),this['sidePanel']['classList']['toString']()),this[_0x4d2664(0x1cb)]();return;}const _0x5f4d6f=this[_0x4d2664(0x206)][_0x4d2664(0x1af)](),_0xa684f7=this['getSelectionContext']();this['explanationContent'][_0x4d2664(0x1c5)]=_0x4d2664(0x17f),this[_0x4d2664(0x1b9)][_0x4d2664(0x1be)]=_0x48083a,this[_0x4d2664(0x1e2)][_0x4d2664(0x195)]['add']('open'),console[_0x4d2664(0x1c9)]('Sidebar\x20opened,\x20classList:',this[_0x4d2664(0x1e2)][_0x4d2664(0x195)][_0x4d2664(0x1af)](),_0x4d2664(0x1b2),getComputedStyle(this[_0x4d2664(0x1e2)])[_0x4d2664(0x19b)],_0x4d2664(0x1cf),this[_0x4d2664(0x1ee)][_0x4d2664(0x1a0)]);try{const _0x3360ec=await fetch(this['options'][_0x4d2664(0x1a0)]+'/'+_0x5ece88,{'method':_0x4d2664(0x209),'headers':{'Content-Type':_0x4d2664(0x211)},'body':JSON[_0x4d2664(0x198)]({'highlighted_text':_0x5f4d6f,'context':_0xa684f7})});console[_0x4d2664(0x1c9)](_0x4d2664(0x17c),_0x3360ec[_0x4d2664(0x1a2)],'for\x20endpoint:',_0x5ece88);if(!_0x3360ec['ok'])throw new Error('API\x20error:\x20'+_0x3360ec[_0x4d2664(0x1a2)]);const _0x27196b=await _0x3360ec[_0x4d2664(0x1d7)]();let _0x1fcb04=_0x27196b['result'];if(_0x5ece88===_0x4d2664(0x217)||_0x5ece88===_0x4d2664(0x1e3)){const _0x42e1f1=_0x5f4d6f[_0x4d2664(0x190)](/[.*+?^${}()|[\]\\]/g,_0x4d2664(0x19c)),_0x128520=new RegExp('\x5cb'+_0x42e1f1+'\x5cb','gi');_0x1fcb04=_0x1fcb04[_0x4d2664(0x190)](_0x128520,'<strong>$&</strong>'),console['log']('Bolding\x20term:',_0x5f4d6f,_0x4d2664(0x1bd)+_0x5ece88);}this[_0x4d2664(0x1c1)]['innerHTML']=_0x1fcb04,this[_0x4d2664(0x1cb)]();}catch(_0x403111){console[_0x4d2664(0x20b)](_0x4d2664(0x1cc)+_0x5ece88+_0x4d2664(0x1a7),_0x403111),this[_0x4d2664(0x1c1)][_0x4d2664(0x1be)]=_0x4d2664(0x1e1)+_0x48083a[_0x4d2664(0x1e0)]()+'.',this[_0x4d2664(0x1cb)]();}}['clearHighlights'](){const _0x3489b4=_0xb592c5;this['content'][_0x3489b4(0x18f)]('span.highlight')['forEach'](_0x19ab3a=>{const _0x410a2b=_0x3489b4,_0x21c8c4=_0x19ab3a[_0x410a2b(0x20f)];_0x21c8c4[_0x410a2b(0x1b6)](document[_0x410a2b(0x1f9)](_0x19ab3a[_0x410a2b(0x1be)]),_0x19ab3a),_0x21c8c4[_0x410a2b(0x1e9)]();}),this['selectionRange']=null;}[_0xb592c5(0x1cb)](){const _0x463e6b=_0xb592c5;this[_0x463e6b(0x1c3)]['classList'][_0x463e6b(0x187)](_0x463e6b(0x1a8)),this[_0x463e6b(0x1dc)]['classList'][_0x463e6b(0x187)](_0x463e6b(0x1a8));}[_0xb592c5(0x1ab)](){const _0x332582=_0xb592c5;if(!this['selectionRange'])return![];const _0x43cea2=this['selectionRange']['startContainer']['nodeType']===Node[_0x332582(0x1b0)]?this[_0x332582(0x206)][_0x332582(0x208)][_0x332582(0x1d8)]:this[_0x332582(0x206)][_0x332582(0x208)],_0x150fe8=this[_0x332582(0x206)][_0x332582(0x1e8)][_0x332582(0x1f5)]===Node[_0x332582(0x1b0)]?this[_0x332582(0x206)][_0x332582(0x1e8)][_0x332582(0x1d8)]:this['selectionRange']['endContainer'];return!!(_0x43cea2[_0x332582(0x1c6)]('p')||_0x150fe8[_0x332582(0x1c6)]('p'));}[_0xb592c5(0x1df)](){const _0x234225=_0xb592c5;if(!this[_0x234225(0x206)])return this[_0x234225(0x218)][_0x234225(0x1be)];const _0x28b5d1=this['selectionRange'][_0x234225(0x208)][_0x234225(0x1f5)]===Node[_0x234225(0x1b0)]?this[_0x234225(0x206)][_0x234225(0x208)]['parentElement']:this[_0x234225(0x206)][_0x234225(0x208)],_0x35b25f=this[_0x234225(0x206)][_0x234225(0x1e8)][_0x234225(0x1f5)]===Node[_0x234225(0x1b0)]?this[_0x234225(0x206)][_0x234225(0x1e8)][_0x234225(0x1d8)]:this['selectionRange'][_0x234225(0x1e8)],_0x309976=_0x28b5d1[_0x234225(0x1c6)]('p'),_0xb30136=_0x35b25f['closest']('p');if(!_0x309976&&!_0xb30136)return this['content']['textContent'];if(_0x309976===_0xb30136&&_0x309976)return _0x309976[_0x234225(0x1be)];const _0x3365eb=[];let _0x271f7b=_0x309976||_0x28b5d1;const _0x20d880=new Set();while(_0x271f7b&&!_0x20d880[_0x234225(0x1a4)](_0x271f7b)&&_0x271f7b!==_0xb30136?.[_0x234225(0x1fb)]){if(_0x271f7b[_0x234225(0x17d)]==='P')_0x3365eb[_0x234225(0x1c7)](_0x271f7b[_0x234225(0x1be)]);_0x20d880[_0x234225(0x187)](_0x271f7b),_0x271f7b=_0x271f7b['nextElementSibling'];}return _0xb30136&&_0xb30136!==_0x309976&&!_0x20d880[_0x234225(0x1a4)](_0xb30136)&&_0x3365eb['push'](_0xb30136[_0x234225(0x1be)]),_0x3365eb[_0x234225(0x1bb)]('\x0a')[_0x234225(0x1de)]()||this['content'][_0x234225(0x1be)];}['closeSidePanel'](){const _0x234255=_0xb592c5;this[_0x234255(0x1e2)][_0x234255(0x195)][_0x234255(0x1ec)](_0x234255(0x1e6)),this[_0x234255(0x1c1)][_0x234255(0x1be)]='',this[_0x234255(0x1b9)]['textContent']=_0x234255(0x21a),console['log'](_0x234255(0x1b3),this[_0x234255(0x1e2)]['classList'][_0x234255(0x1af)]());}[_0xb592c5(0x184)](_0x5ed9f5){const _0x5a9eb6=_0xb592c5,_0x4fd31b=_0x5ed9f5[_0x5a9eb6(0x208)],_0x5d9cb2=_0x5ed9f5[_0x5a9eb6(0x1e8)];let _0x5df414=_0x5ed9f5['startOffset'],_0x8a5a7e=_0x5ed9f5['endOffset'];if(_0x4fd31b['nodeType']===Node['TEXT_NODE']){const _0x2db5b2=_0x4fd31b[_0x5a9eb6(0x1be)];let _0x51c918=_0x5df414;while(_0x51c918>0x0&&!/\s/['test'](_0x2db5b2[_0x51c918-0x1]))_0x51c918--;_0x5ed9f5[_0x5a9eb6(0x1d9)](_0x4fd31b,_0x51c918);}if(_0x5d9cb2['nodeType']===Node[_0x5a9eb6(0x1b0)]){const _0x35d45c=_0x5d9cb2['textContent'];let _0x489578=_0x8a5a7e;while(_0x489578<_0x35d45c[_0x5a9eb6(0x1da)]&&!/\s/[_0x5a9eb6(0x1f3)](_0x35d45c[_0x489578]))_0x489578++;while(_0x489578>0x0&&/[,.;!?:"'()]/['test'](_0x35d45c[_0x489578-0x1]))_0x489578--;_0x5ed9f5[_0x5a9eb6(0x1e4)](_0x5d9cb2,_0x489578);}console[_0x5a9eb6(0x1c9)](_0x5a9eb6(0x1cd),_0x5ed9f5[_0x5a9eb6(0x1af)]());}['applyHighlight'](_0x834cad){const _0x5b3796=_0xb592c5,_0x2751e0=[],_0x2f8593=_0x834cad['startContainer'],_0x1bcd1f=_0x834cad['endContainer'],_0x119a22=_0x834cad[_0x5b3796(0x1e5)],_0x368c46=_0x834cad[_0x5b3796(0x1f4)];if(_0x2f8593===_0x1bcd1f&&_0x2f8593[_0x5b3796(0x1f5)]===Node[_0x5b3796(0x1b0)]){const _0x5f5564=document[_0x5b3796(0x189)]('span');_0x5f5564[_0x5b3796(0x1a5)]=_0x5b3796(0x18c);const _0x51eeb6=document[_0x5b3796(0x1f6)]();_0x51eeb6['setStart'](_0x2f8593,_0x119a22),_0x51eeb6['setEnd'](_0x1bcd1f,_0x368c46),_0x51eeb6[_0x5b3796(0x1eb)](_0x5f5564),_0x2751e0['push'](_0x5f5564);}else{const _0x1760ea=[];let _0x31eab5=_0x2f8593;const _0x325235=_0x834cad[_0x5b3796(0x1d3)];while(_0x31eab5&&_0x31eab5!==_0x325235[_0x5b3796(0x1fb)]){_0x31eab5[_0x5b3796(0x1f5)]===Node['TEXT_NODE']&&_0x834cad['intersectsNode'](_0x31eab5)&&_0x1760ea[_0x5b3796(0x1c7)](_0x31eab5),_0x31eab5=this[_0x5b3796(0x18b)](_0x31eab5,_0x325235);}_0x1760ea[_0x5b3796(0x1d6)](_0x5d9639=>{const _0x5d3bc8=_0x5b3796,_0x5948b2=document[_0x5d3bc8(0x1f6)]();_0x5948b2[_0x5d3bc8(0x1a3)](_0x5d9639);if(_0x5d9639===_0x2f8593)_0x5948b2[_0x5d3bc8(0x1d9)](_0x5d9639,_0x119a22);if(_0x5d9639===_0x1bcd1f)_0x5948b2[_0x5d3bc8(0x1e4)](_0x5d9639,_0x368c46);if(_0x5948b2[_0x5d3bc8(0x1af)]()[_0x5d3bc8(0x1de)]()){const _0x3fa203=document['createElement']('span');_0x3fa203[_0x5d3bc8(0x1a5)]=_0x5d3bc8(0x18c),_0x5948b2[_0x5d3bc8(0x1eb)](_0x3fa203),_0x2751e0[_0x5d3bc8(0x1c7)](_0x3fa203);}});}if(_0x2751e0['length']){const _0x17d00d=document[_0x5b3796(0x1f6)]();_0x17d00d[_0x5b3796(0x1c8)](_0x2751e0[0x0]),_0x17d00d[_0x5b3796(0x191)](_0x2751e0[_0x2751e0[_0x5b3796(0x1da)]-0x1]),this[_0x5b3796(0x206)]=_0x17d00d;}}[_0xb592c5(0x18b)](_0x4ee1a2,_0x2053b6){const _0x2b7150=_0xb592c5;if(_0x4ee1a2['firstChild'])return _0x4ee1a2[_0x2b7150(0x21b)];while(_0x4ee1a2&&!_0x4ee1a2[_0x2b7150(0x1fb)]&&_0x4ee1a2!==_0x2053b6){_0x4ee1a2=_0x4ee1a2['parentNode'];}return _0x4ee1a2&&_0x4ee1a2!==_0x2053b6?_0x4ee1a2['nextSibling']:null;}}window['Highlighter']={'init':_0x43efdf=>new _0x1c9c9d(_0x43efdf)};}()));