function a0_0x3865(){const _0x5bec2d=['transform:','parentNode','status','220px','target','span','#highlighterLearnMoreBtn','left','setEndAfter','Fetch\x20','selectionRange','3216714axtcrf','style','expandRangeToWords','TEXT_NODE','fetchApi','Highlight\x20error:','innerHTML','in\x20explanation','Summarize\x20clicked,\x20opening\x20sidebar','hidden','active','highlighter-root','5CDFBqO','span.highlight','createShadowDOM','No\x20text\x20selected.','toggle','intersectsNode','<strong>$&</strong>','replaceChild','init','7478LBFEHO','surroundContents','closest','3618628ZGLnhR','Explanation','open','length','applyHighlight','removeAllRanges','301vJESqT','explanationContent','classList','<div\x20class=\x22highlighter-spinner-wrapper\x22><div\x20class=\x22highlighter-spinner\x22></div></div>','className','\x5c$&','endOffset','contentSelector','Summary','stringify','createRange','startOffset','nextSibling','querySelector','After\x20Escape,\x20menu\x20hidden:','highlighterBtn','Sidebar\x20opened,\x20classList:','highlighterSidePanel','result','highlight\x20mode:','#highlighterSummarizeBtn','button','buttonTop','remove','parentElement','endContainer','addEventListener','Sidebar\x20closed,\x20classList:','head','trim','join','top','Highlighter\x20initialized,\x20menu\x20hidden:','highlight','buttonLeft','Highlight\x20mode:','Highlighter','highlightMenu','highlightBtn','4459816RZpomM','getBoundingClientRect','transform','scrollY','nodeType','[data-highlighter=\x22content\x22]','toLowerCase','#highlighterExplanationContent','includes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20span.highlight\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#fef08a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','add','body','shadowRoot','text\x20highlighted:','setupEventListeners','mouseup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighterLearnMoreBtn\x22>Learn\x20More</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighterSummarizeBtn\x22\x20class=\x22hidden\x22>Summarize</button>\x0a\x20\x20\x20\x20\x20\x20','startContainer','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighterClosePanelBtn\x22>Close</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20id=\x22highlighterPanelTitle\x22>Explanation</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighterExplanationContent\x22></div>\x0a\x20\x20\x20\x20\x20\x20','toString','options','panelTitle','learnMoreBtn','push','Escape','appendChild','\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20width=\x2224\x22\x20height=\x2224\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<path\x20d=\x22M4\x2018h16l-2-10H6l-2\x2010zm10-12h-4V4h4v2zm-2\x2012.5a1.5\x201.5\x200\x201\x201\x200-3\x201.5\x201.5\x200\x200\x201\x200\x203z\x22/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20','log','highlighterMenu','summarizeBtn','commonAncestorContainer','Escape\x20pressed,\x20sidebar\x20open:','createTextNode','clearHighlights','highlighter-button','test','API\x20response\x20status:','error','closeSidePanel','contains','API\x20error:\x20','content','6072966rrBocz','querySelectorAll','10inUBOR','#highlighterClosePanelBtn','createElement','isHighlightMode','summarize','replace','Failed\x20to\x20load\x20','API\x20endpoint:',';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x20','click','setEnd','textContent','json','setStart','closePanelBtn','div','getSelectionContext','highlighter-menu\x20hidden','30px','2781558niTnTU','nodeName','apiEndpoint','sidePanel','9986403ioYMoR','getSelection','hideMenu'];a0_0x3865=function(){return _0x5bec2d;};return a0_0x3865();}function a0_0xff39(_0x123770,_0x502248){const _0x386538=a0_0x3865();return a0_0xff39=function(_0xff39ee,_0x391dd5){_0xff39ee=_0xff39ee-0x12a;let _0x5c107e=_0x386538[_0xff39ee];return _0x5c107e;},a0_0xff39(_0x123770,_0x502248);}(function(_0x25cbe6,_0x503f66){const _0x1a034c=a0_0xff39,_0x2e3fdd=_0x25cbe6();while(!![]){try{const _0x4014c8=-parseInt(_0x1a034c(0x169))/0x1*(-parseInt(_0x1a034c(0x160))/0x2)+parseInt(_0x1a034c(0x14b))/0x3+parseInt(_0x1a034c(0x163))/0x4*(-parseInt(_0x1a034c(0x157))/0x5)+-parseInt(_0x1a034c(0x1bc))/0x6+parseInt(_0x1a034c(0x13d))/0x7+-parseInt(_0x1a034c(0x190))/0x8+parseInt(_0x1a034c(0x139))/0x9*(-parseInt(_0x1a034c(0x1be))/0xa);if(_0x4014c8===_0x503f66)break;else _0x2e3fdd['push'](_0x2e3fdd['shift']());}catch(_0xcfbed0){_0x2e3fdd['push'](_0x2e3fdd['shift']());}}}(a0_0x3865,0xcd4f5),(function(){const _0x4f3524=a0_0xff39;class _0x32ae3b{constructor(_0x3b9d00={}){const _0x4ddcb6=a0_0xff39;this[_0x4ddcb6(0x1a5)]={'apiEndpoint':_0x3b9d00['apiEndpoint']||'https://faas-nyc1-2ef2e6cc.doserverless.co/api/v1/web/fn-a25b91e2-eb0e-4b0e-a7d2-9c54519d6c5e/default','contentSelector':_0x3b9d00[_0x4ddcb6(0x170)]||_0x4ddcb6(0x195),'buttonTop':_0x3b9d00[_0x4ddcb6(0x17f)]||_0x4ddcb6(0x143),'buttonLeft':_0x3b9d00[_0x4ddcb6(0x18b)]||_0x4ddcb6(0x138)},this[_0x4ddcb6(0x1c1)]=![],this[_0x4ddcb6(0x14a)]=null,this[_0x4ddcb6(0x19c)]=null,this['init']();}[_0x4f3524(0x15f)](){const _0x1c0bd6=_0x4f3524;this['createShadowDOM'](),this[_0x1c0bd6(0x19e)](),console[_0x1c0bd6(0x1ad)](_0x1c0bd6(0x189),this[_0x1c0bd6(0x18e)][_0x1c0bd6(0x16b)]['contains']('hidden'),_0x1c0bd6(0x12d),this[_0x1c0bd6(0x1a5)][_0x1c0bd6(0x13b)]);}[_0x4f3524(0x159)](){const _0x5d521e=_0x4f3524,_0x9f76a6=document[_0x5d521e(0x1c0)](_0x5d521e(0x135));_0x9f76a6['id']=_0x5d521e(0x156),document[_0x5d521e(0x19b)][_0x5d521e(0x1aa)](_0x9f76a6),this[_0x5d521e(0x19c)]=_0x9f76a6['attachShadow']({'mode':'open'});const _0x5707d5=document[_0x5d521e(0x1c0)]('style');_0x5707d5['textContent']=_0x5d521e(0x1ab)+this[_0x5d521e(0x1a5)][_0x5d521e(0x17f)]+_0x5d521e(0x12e)+this['options']['buttonLeft']+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2030;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x201px\x203px\x201px\x20rgba(0,\x200,\x200,\x200.06);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20outline:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-button.active\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#fef08a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-button\x20svg\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fill:\x20#333333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-menu\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#1f2937;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x206px\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20row;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-menu\x20button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x204px\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-menu\x20button:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#374151;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.hidden\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-side-panel\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20320px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x20-2px\x200\x208px\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(100%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease-in-out;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2099999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-side-panel.open\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-side-panel\x20button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ef4444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-side-panel\x20h2\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-spinner-wrapper\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-spinner\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x206px\x20solid\x20#f3f3f3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x206px\x20solid\x20#3498db;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20spin\x201s\x20linear\x20infinite;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20@keyframes\x20spin\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x20transform:\x20rotate(0deg);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x20transform:\x20rotate(360deg);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20',this[_0x5d521e(0x19c)]['appendChild'](_0x5707d5);const _0x124748=document[_0x5d521e(0x1c0)]('style');_0x124748['textContent']=_0x5d521e(0x199),document[_0x5d521e(0x185)][_0x5d521e(0x1aa)](_0x124748),this[_0x5d521e(0x18f)]=document[_0x5d521e(0x1c0)](_0x5d521e(0x17e)),this[_0x5d521e(0x18f)]['id']=_0x5d521e(0x178),this[_0x5d521e(0x18f)]['className']=_0x5d521e(0x1b4),this[_0x5d521e(0x18f)][_0x5d521e(0x151)]=_0x5d521e(0x1ac),this['shadowRoot'][_0x5d521e(0x1aa)](this[_0x5d521e(0x18f)]),this['highlightMenu']=document[_0x5d521e(0x1c0)]('div'),this['highlightMenu']['id']=_0x5d521e(0x1ae),this[_0x5d521e(0x18e)][_0x5d521e(0x16d)]=_0x5d521e(0x137),this[_0x5d521e(0x18e)][_0x5d521e(0x151)]=_0x5d521e(0x1a0),this[_0x5d521e(0x19c)]['appendChild'](this[_0x5d521e(0x18e)]),this[_0x5d521e(0x13c)]=document[_0x5d521e(0x1c0)](_0x5d521e(0x135)),this[_0x5d521e(0x13c)]['id']=_0x5d521e(0x17a),this['sidePanel']['className']='highlighter-side-panel',this[_0x5d521e(0x13c)][_0x5d521e(0x151)]=_0x5d521e(0x1a3),this[_0x5d521e(0x19c)][_0x5d521e(0x1aa)](this[_0x5d521e(0x13c)]),this[_0x5d521e(0x1bb)]=document[_0x5d521e(0x176)](this[_0x5d521e(0x1a5)][_0x5d521e(0x170)])||document['body'],this[_0x5d521e(0x1a7)]=this[_0x5d521e(0x19c)][_0x5d521e(0x176)](_0x5d521e(0x146)),this[_0x5d521e(0x1af)]=this['shadowRoot'][_0x5d521e(0x176)](_0x5d521e(0x17d)),this[_0x5d521e(0x134)]=this['shadowRoot']['querySelector'](_0x5d521e(0x1bf)),this[_0x5d521e(0x16a)]=this[_0x5d521e(0x19c)][_0x5d521e(0x176)](_0x5d521e(0x197)),this[_0x5d521e(0x1a6)]=this['shadowRoot'][_0x5d521e(0x176)]('#highlighterPanelTitle');}[_0x4f3524(0x19e)](){const _0xa8a04a=_0x4f3524;this[_0xa8a04a(0x18f)][_0xa8a04a(0x183)](_0xa8a04a(0x12f),()=>{const _0xb195f7=_0xa8a04a;this[_0xb195f7(0x1c1)]=!this['isHighlightMode'],this[_0xb195f7(0x18f)][_0xb195f7(0x16b)][_0xb195f7(0x15b)](_0xb195f7(0x155),this[_0xb195f7(0x1c1)]),!this['isHighlightMode']&&(this['clearHighlights'](),this[_0xb195f7(0x13f)]()),console[_0xb195f7(0x1ad)](_0xb195f7(0x18c),this['isHighlightMode']);}),this[_0xa8a04a(0x1bb)]['addEventListener'](_0xa8a04a(0x19f),_0x11b797=>{const _0x34a77c=_0xa8a04a;if(!this['isHighlightMode'])return;const _0x1bf0d8=window[_0x34a77c(0x13e)]();if(_0x1bf0d8['rangeCount']>0x0&&_0x1bf0d8['toString']()[_0x34a77c(0x186)]()){this[_0x34a77c(0x1b3)](),this[_0x34a77c(0x14a)]=_0x1bf0d8['getRangeAt'](0x0),this[_0x34a77c(0x14d)](this[_0x34a77c(0x14a)]);try{this[_0x34a77c(0x167)](this['selectionRange']);}catch(_0x216c25){console[_0x34a77c(0x1b7)](_0x34a77c(0x150),_0x216c25);return;}const _0x2a2462=this[_0x34a77c(0x14a)][_0x34a77c(0x191)]();this[_0x34a77c(0x18e)][_0x34a77c(0x14c)][_0x34a77c(0x188)]=_0x2a2462[_0x34a77c(0x188)]+window[_0x34a77c(0x193)]-0x28+'px',this[_0x34a77c(0x18e)][_0x34a77c(0x14c)][_0x34a77c(0x147)]=_0x2a2462['left']+window['scrollX']+'px',this[_0x34a77c(0x18e)][_0x34a77c(0x16b)]['remove'](_0x34a77c(0x154)),this[_0x34a77c(0x1af)]['classList'][_0x34a77c(0x15b)](_0x34a77c(0x154),!this['isParagraphSelected']()),console[_0x34a77c(0x1ad)]('Menu\x20shown,\x20Summarize\x20hidden:',this['summarizeBtn'][_0x34a77c(0x16b)]['contains'](_0x34a77c(0x154))),_0x1bf0d8[_0x34a77c(0x168)]();}}),this[_0xa8a04a(0x1a7)][_0xa8a04a(0x183)]('click',()=>{const _0x2a6984=_0xa8a04a;console[_0x2a6984(0x1ad)]('Learn\x20More\x20clicked,\x20opening\x20sidebar'),this[_0x2a6984(0x14f)]('explain',_0x2a6984(0x164));}),this[_0xa8a04a(0x1af)][_0xa8a04a(0x183)](_0xa8a04a(0x12f),()=>{const _0x35c481=_0xa8a04a;console[_0x35c481(0x1ad)](_0x35c481(0x153)),this['fetchApi'](_0x35c481(0x12a),_0x35c481(0x171));}),this['closePanelBtn'][_0xa8a04a(0x183)]('click',()=>this['closeSidePanel']()),document['addEventListener'](_0xa8a04a(0x12f),_0x4f01d2=>{const _0x349c62=_0xa8a04a,_0x39771e=_0x4f01d2['composedPath']()[_0x349c62(0x198)](this[_0x349c62(0x19c)]),_0x5613de=this[_0x349c62(0x1bb)][_0x349c62(0x1b9)](_0x4f01d2[_0x349c62(0x144)]);this[_0x349c62(0x13c)][_0x349c62(0x16b)]['contains'](_0x349c62(0x165))&&!_0x39771e&&_0x4f01d2['target']!==this['learnMoreBtn']&&_0x4f01d2['target']!==this[_0x349c62(0x1af)]&&this['closeSidePanel'](),this[_0x349c62(0x1c1)]&&!_0x5613de&&!_0x39771e&&_0x4f01d2['target']!==this[_0x349c62(0x1a7)]&&_0x4f01d2[_0x349c62(0x144)]!==this[_0x349c62(0x1af)]&&(this['clearHighlights'](),this['hideMenu']());}),document[_0xa8a04a(0x183)]('keydown',_0x12281c=>{const _0x963dca=_0xa8a04a;if(_0x12281c['key']===_0x963dca(0x1a9)){console[_0x963dca(0x1ad)](_0x963dca(0x1b1),this[_0x963dca(0x13c)][_0x963dca(0x16b)][_0x963dca(0x1b9)](_0x963dca(0x165)),_0x963dca(0x19d),!!this['selectionRange'],'highlight\x20mode:',this[_0x963dca(0x1c1)]);if(this[_0x963dca(0x13c)]['classList'][_0x963dca(0x1b9)](_0x963dca(0x165)))this[_0x963dca(0x1b8)]();else{if(this[_0x963dca(0x14a)])this['clearHighlights'](),this['hideMenu']();else this[_0x963dca(0x1c1)]&&(this['isHighlightMode']=![],this[_0x963dca(0x18f)][_0x963dca(0x16b)][_0x963dca(0x180)](_0x963dca(0x155)));}console[_0x963dca(0x1ad)](_0x963dca(0x177),this['highlightMenu']['classList'][_0x963dca(0x1b9)](_0x963dca(0x154)),_0x963dca(0x17c),this['isHighlightMode']);}});}async[_0x4f3524(0x14f)](_0x4619cd,_0x56c3de){const _0x5929cf=_0x4f3524;if(!this[_0x5929cf(0x14a)]){this[_0x5929cf(0x16a)][_0x5929cf(0x131)]=_0x5929cf(0x15a),this['sidePanel'][_0x5929cf(0x16b)][_0x5929cf(0x19a)]('open'),console[_0x5929cf(0x1ad)]('Sidebar\x20opened\x20for\x20no\x20selection,\x20classList:',this['sidePanel'][_0x5929cf(0x16b)][_0x5929cf(0x1a4)]()),this['hideMenu']();return;}const _0x4c7ff2=this[_0x5929cf(0x14a)][_0x5929cf(0x1a4)](),_0x45ed0d=this['getSelectionContext']();this[_0x5929cf(0x16a)]['innerHTML']=_0x5929cf(0x16c),this[_0x5929cf(0x1a6)][_0x5929cf(0x131)]=_0x56c3de,this[_0x5929cf(0x13c)][_0x5929cf(0x16b)]['add'](_0x5929cf(0x165)),console[_0x5929cf(0x1ad)](_0x5929cf(0x179),this[_0x5929cf(0x13c)][_0x5929cf(0x16b)][_0x5929cf(0x1a4)](),_0x5929cf(0x140),getComputedStyle(this[_0x5929cf(0x13c)])[_0x5929cf(0x192)],_0x5929cf(0x12d),this[_0x5929cf(0x1a5)][_0x5929cf(0x13b)]);try{const _0x2846c5=await fetch(this[_0x5929cf(0x1a5)][_0x5929cf(0x13b)]+'/'+_0x4619cd,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x5929cf(0x172)]({'highlighted_text':_0x4c7ff2,'context':_0x45ed0d})});console[_0x5929cf(0x1ad)](_0x5929cf(0x1b6),_0x2846c5[_0x5929cf(0x142)]);if(!_0x2846c5['ok'])throw new Error(_0x5929cf(0x1ba)+_0x2846c5[_0x5929cf(0x142)]);const _0x3f1808=await _0x2846c5[_0x5929cf(0x132)]();let _0x3fd648=_0x3f1808[_0x5929cf(0x17b)];if(_0x4619cd==='explain'){const _0x4ac949=_0x4c7ff2[_0x5929cf(0x12b)](/[.*+?^${}()|[\]\\]/g,_0x5929cf(0x16e)),_0x59dd93=new RegExp('\x5cb'+_0x4ac949+'\x5cb','gi');_0x3fd648=_0x3fd648['replace'](_0x59dd93,_0x5929cf(0x15d)),console[_0x5929cf(0x1ad)]('Bolding\x20term:',_0x4c7ff2,_0x5929cf(0x152));}this[_0x5929cf(0x16a)][_0x5929cf(0x151)]=_0x3fd648,this[_0x5929cf(0x13f)]();}catch(_0x2d1691){console[_0x5929cf(0x1b7)](_0x5929cf(0x149)+_0x4619cd+'\x20error:',_0x2d1691),this[_0x5929cf(0x16a)][_0x5929cf(0x131)]=_0x5929cf(0x12c)+_0x56c3de[_0x5929cf(0x196)]()+'.',this[_0x5929cf(0x13f)]();}}['clearHighlights'](){const _0x2fe417=_0x4f3524;this[_0x2fe417(0x1bb)][_0x2fe417(0x1bd)](_0x2fe417(0x158))['forEach'](_0x1e0a97=>{const _0x39270a=_0x2fe417,_0x23728b=_0x1e0a97[_0x39270a(0x141)];_0x23728b[_0x39270a(0x15e)](document[_0x39270a(0x1b2)](_0x1e0a97[_0x39270a(0x131)]),_0x1e0a97),_0x23728b['normalize']();}),this[_0x2fe417(0x14a)]=null;}[_0x4f3524(0x13f)](){const _0x2820ce=_0x4f3524;this[_0x2820ce(0x18e)]['classList'][_0x2820ce(0x19a)]('hidden'),this[_0x2820ce(0x1af)][_0x2820ce(0x16b)]['add']('hidden');}['isParagraphSelected'](){const _0xcb0751=_0x4f3524;if(!this['selectionRange'])return![];const _0x4c2bb5=this[_0xcb0751(0x14a)][_0xcb0751(0x1a1)][_0xcb0751(0x194)]===Node['TEXT_NODE']?this[_0xcb0751(0x14a)][_0xcb0751(0x1a1)][_0xcb0751(0x181)]:this[_0xcb0751(0x14a)][_0xcb0751(0x1a1)],_0x4ab54d=this[_0xcb0751(0x14a)][_0xcb0751(0x182)][_0xcb0751(0x194)]===Node['TEXT_NODE']?this[_0xcb0751(0x14a)][_0xcb0751(0x182)][_0xcb0751(0x181)]:this[_0xcb0751(0x14a)]['endContainer'];return!!(_0x4c2bb5[_0xcb0751(0x162)]('p')||_0x4ab54d[_0xcb0751(0x162)]('p'));}[_0x4f3524(0x136)](){const _0x1d2490=_0x4f3524;if(!this[_0x1d2490(0x14a)])return this[_0x1d2490(0x1bb)][_0x1d2490(0x131)];const _0x4974ac=this[_0x1d2490(0x14a)][_0x1d2490(0x1a1)][_0x1d2490(0x194)]===Node[_0x1d2490(0x14e)]?this[_0x1d2490(0x14a)][_0x1d2490(0x1a1)][_0x1d2490(0x181)]:this['selectionRange']['startContainer'],_0x385514=this[_0x1d2490(0x14a)][_0x1d2490(0x182)][_0x1d2490(0x194)]===Node[_0x1d2490(0x14e)]?this['selectionRange']['endContainer']['parentElement']:this['selectionRange'][_0x1d2490(0x182)],_0x41940e=_0x4974ac[_0x1d2490(0x162)]('p'),_0x3efe98=_0x385514[_0x1d2490(0x162)]('p');if(!_0x41940e&&!_0x3efe98)return this[_0x1d2490(0x1bb)][_0x1d2490(0x131)];if(_0x41940e===_0x3efe98&&_0x41940e)return _0x41940e['textContent'];const _0x3b8465=[];let _0xa994a=_0x41940e||_0x4974ac;const _0x43921e=new Set();while(_0xa994a&&!_0x43921e['has'](_0xa994a)&&_0xa994a!==_0x3efe98?.[_0x1d2490(0x175)]){if(_0xa994a[_0x1d2490(0x13a)]==='P')_0x3b8465[_0x1d2490(0x1a8)](_0xa994a[_0x1d2490(0x131)]);_0x43921e[_0x1d2490(0x19a)](_0xa994a),_0xa994a=_0xa994a['nextElementSibling'];}return _0x3efe98&&_0x3efe98!==_0x41940e&&!_0x43921e['has'](_0x3efe98)&&_0x3b8465[_0x1d2490(0x1a8)](_0x3efe98[_0x1d2490(0x131)]),_0x3b8465[_0x1d2490(0x187)]('\x0a')[_0x1d2490(0x186)]()||this['content'][_0x1d2490(0x131)];}[_0x4f3524(0x1b8)](){const _0x574a67=_0x4f3524;this[_0x574a67(0x13c)][_0x574a67(0x16b)][_0x574a67(0x180)]('open'),this['explanationContent'][_0x574a67(0x131)]='',this[_0x574a67(0x1a6)]['textContent']=_0x574a67(0x164),console[_0x574a67(0x1ad)](_0x574a67(0x184),this[_0x574a67(0x13c)][_0x574a67(0x16b)]['toString']());}[_0x4f3524(0x14d)](_0x13bd1d){const _0x787b29=_0x4f3524,_0x3e9a0c=_0x13bd1d[_0x787b29(0x1a1)],_0x285a75=_0x13bd1d['endContainer'];let _0xab9635=_0x13bd1d[_0x787b29(0x174)],_0x4d00ce=_0x13bd1d[_0x787b29(0x16f)];if(_0x3e9a0c['nodeType']===Node[_0x787b29(0x14e)]){const _0x2c9ffd=_0x3e9a0c[_0x787b29(0x131)];let _0x171326=_0xab9635;while(_0x171326>0x0&&!/\s/[_0x787b29(0x1b5)](_0x2c9ffd[_0x171326-0x1]))_0x171326--;_0x13bd1d[_0x787b29(0x133)](_0x3e9a0c,_0x171326);}if(_0x285a75[_0x787b29(0x194)]===Node[_0x787b29(0x14e)]){const _0x5953be=_0x285a75[_0x787b29(0x131)];let _0x55c5ed=_0x4d00ce;while(_0x55c5ed<_0x5953be[_0x787b29(0x166)]&&!/\s/[_0x787b29(0x1b5)](_0x5953be[_0x55c5ed]))_0x55c5ed++;while(_0x55c5ed>0x0&&/[,.;!?:"'()]/[_0x787b29(0x1b5)](_0x5953be[_0x55c5ed-0x1]))_0x55c5ed--;_0x13bd1d[_0x787b29(0x130)](_0x285a75,_0x55c5ed);}console[_0x787b29(0x1ad)]('Trimmed\x20selection:',_0x13bd1d[_0x787b29(0x1a4)]());}[_0x4f3524(0x167)](_0x9dd5ae){const _0x3c73b9=_0x4f3524,_0x1a6ef4=[],_0x5988c3=_0x9dd5ae['startContainer'],_0x1a448d=_0x9dd5ae['endContainer'],_0x1758e9=_0x9dd5ae[_0x3c73b9(0x174)],_0x25f5fe=_0x9dd5ae[_0x3c73b9(0x16f)];if(_0x5988c3===_0x1a448d&&_0x5988c3['nodeType']===Node[_0x3c73b9(0x14e)]){const _0x1fcfc9=document[_0x3c73b9(0x1c0)](_0x3c73b9(0x145));_0x1fcfc9[_0x3c73b9(0x16d)]=_0x3c73b9(0x18a);const _0x8d04aa=document[_0x3c73b9(0x173)]();_0x8d04aa[_0x3c73b9(0x133)](_0x5988c3,_0x1758e9),_0x8d04aa['setEnd'](_0x1a448d,_0x25f5fe),_0x8d04aa[_0x3c73b9(0x161)](_0x1fcfc9),_0x1a6ef4[_0x3c73b9(0x1a8)](_0x1fcfc9);}else{const _0x4c7f66=[];let _0xf0fbe9=_0x5988c3;const _0x5a3d93=_0x9dd5ae[_0x3c73b9(0x1b0)];while(_0xf0fbe9&&_0xf0fbe9!==_0x5a3d93[_0x3c73b9(0x175)]){_0xf0fbe9[_0x3c73b9(0x194)]===Node[_0x3c73b9(0x14e)]&&_0x9dd5ae[_0x3c73b9(0x15c)](_0xf0fbe9)&&_0x4c7f66[_0x3c73b9(0x1a8)](_0xf0fbe9),_0xf0fbe9=this['nextNode'](_0xf0fbe9,_0x5a3d93);}_0x4c7f66[_0x3c73b9(0x1a2)](_0xa2d98e=>{const _0x372929=_0x3c73b9,_0x3ad609=document['createRange']();_0x3ad609['selectNodeContents'](_0xa2d98e);if(_0xa2d98e===_0x5988c3)_0x3ad609[_0x372929(0x133)](_0xa2d98e,_0x1758e9);if(_0xa2d98e===_0x1a448d)_0x3ad609[_0x372929(0x130)](_0xa2d98e,_0x25f5fe);if(_0x3ad609[_0x372929(0x1a4)]()[_0x372929(0x186)]()){const _0x4ca801=document[_0x372929(0x1c0)](_0x372929(0x145));_0x4ca801[_0x372929(0x16d)]=_0x372929(0x18a),_0x3ad609[_0x372929(0x161)](_0x4ca801),_0x1a6ef4['push'](_0x4ca801);}});}if(_0x1a6ef4[_0x3c73b9(0x166)]){const _0x1b2223=document[_0x3c73b9(0x173)]();_0x1b2223['setStartBefore'](_0x1a6ef4[0x0]),_0x1b2223[_0x3c73b9(0x148)](_0x1a6ef4[_0x1a6ef4[_0x3c73b9(0x166)]-0x1]),this[_0x3c73b9(0x14a)]=_0x1b2223;}}['nextNode'](_0x21933f,_0x341780){const _0x61fa30=_0x4f3524;if(_0x21933f['firstChild'])return _0x21933f['firstChild'];while(_0x21933f&&!_0x21933f[_0x61fa30(0x175)]&&_0x21933f!==_0x341780){_0x21933f=_0x21933f[_0x61fa30(0x141)];}return _0x21933f&&_0x21933f!==_0x341780?_0x21933f[_0x61fa30(0x175)]:null;}}window[_0x4f3524(0x18d)]={'init':_0x5a23f5=>new _0x32ae3b(_0x5a23f5)};}()));