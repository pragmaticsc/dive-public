function a0_0x33f4(_0x251363,_0x53a395){const _0x2d4dd1=a0_0x2d4d();return a0_0x33f4=function(_0x33f422,_0x44201a){_0x33f422=_0x33f422-0x191;let _0x44efa7=_0x2d4dd1[_0x33f422];return _0x44efa7;},a0_0x33f4(_0x251363,_0x53a395);}function a0_0x2d4d(){const _0x428ccc=['startContainer','10IydAjp','innerHTML','createShadowDOM','Escape\x20pressed,\x20sidebar\x20open:','normalize','hideMenu','firstChild','clearHighlights','push','setStart','applyHighlight','init','classList','https://faas-nyc1-2ef2e6cc.doserverless.co/api/v1/web/fn-a25b91e2-eb0e-4b0e-a7d2-9c54519d6c5e/default','endOffset','<strong>$&</strong>','220px','getBoundingClientRect','parentElement','surroundContents','</pre>','querySelectorAll','className','test','Bolding\x20term:','elaborate','content','highlighter-root','setEndAfter','trimEnd','#highlighterSummarizeBtn','has','endContainer','remove','includes','attachShadow','Explain\x20clicked,\x20opening\x20sidebar','nodeName','closeSidePanel','isParagraphSelected','summarize','selectionRange','summarizeBtn','toString','forEach','</h','left','elaborateBtn','Parsed\x20Markdown\x20to\x20HTML:','setupEventListeners','intersectsNode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x20','355944ECISQv','div','1549360pBbWzb','transform:','join','log','parentNode','buttonLeft:','error','highlight\x20mode:','keydown','key','\x5c$&','shadowRoot','nodeType','Markdown\x20parsing\x20error:','replaceChild','querySelector','Sidebar\x20closed,\x20classList:','highlighter-button','Elaborate\x20clicked,\x20opening\x20sidebar','379671cSabIJ','Highlight\x20mode:','setEnd','<strong>$1</strong>','length','for\x20endpoint:','expandRangeToWords','highlightBtn','replace','contentSelector','highlighter-side-panel','mouseup','hidden','isHighlightMode','Highlight\x20error:','#highlighterLearnMoreBtn','split','Escape','style','addEventListener','<em>$1</em>','explanationContent','trim','in\x20','toggle','result','nextNode','explain','Sidebar\x20opened,\x20classList:','\x20error:','2054022KlMBdk','Menu\x20shown,\x20Summarize\x20hidden:','match','buttonTop','top','textContent','body','<div\x20class=\x22highlighter-spinner-wrapper\x22><div\x20class=\x22highlighter-spinner\x22></div></div>','startOffset','head','click','API\x20endpoint:','16644879jMkbDq','createElement','active','After\x20Escape,\x20menu\x20hidden:','status','createRange','[data-highlighter=\x22content\x22]','apiEndpoint','createTextNode','appendChild','6ZgsiKd','highlight','highlighterBtn','<li>','buttonLeft','setStartBefore','<p>','highlightMenu','sidePanel','3071481rRSEaT','highlighterMenu','open','Trimmed\x20selection:','fetchApi','TEXT_NODE','getSelectionContext','selectNodeContents','highlighter-menu\x20hidden','composedPath',';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2030;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x201px\x203px\x201px\x20rgba(0,\x200,\x200,\x200.06);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20outline:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-button.active\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#fef08a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-button\x20svg\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fill:\x20#333333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-menu\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#1f2937;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x206px\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20row;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-menu\x20button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x204px\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-menu\x20button:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#374151;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.hidden\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-side-panel\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20320px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x20-2px\x200\x208px\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(100%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease-in-out;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2099999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-side-panel.open\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-spinner-wrapper\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-spinner\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x206px\x20solid\x20#f3f3f3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x206px\x20solid\x20#3498db;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20spin\x201s\x20linear\x20infinite;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20@keyframes\x20spin\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x20transform:\x20rotate(0deg);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x20transform:\x20rotate(360deg);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20width=\x2224\x22\x20height=\x2224\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<path\x20d=\x22M4\x2018h16l-2-10H6l-2\x2010zm10-12h-4V4h4v2zm-2\x2012.5a1.5\x201.5\x200\x201\x201\x200-3\x201.5\x201.5\x200\x200\x201\x200\x203z\x22/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20','nextSibling','learnMoreBtn','text\x20highlighted:','add','parse','button','contains','target','closest','Failed\x20to\x20load\x20','36627WKmFPx','span','transform','</p>','options','span.highlight'];a0_0x2d4d=function(){return _0x428ccc;};return a0_0x2d4d();}(function(_0x315ae7,_0x31ff24){const _0x42887a=a0_0x33f4,_0x1bc81d=_0x315ae7();while(!![]){try{const _0x4d7454=parseInt(_0x42887a(0x20a))/0x1*(parseInt(_0x42887a(0x1eb))/0x2)+-parseInt(_0x42887a(0x1b7))/0x3+-parseInt(_0x42887a(0x1a4))/0x4+parseInt(_0x42887a(0x211))/0x5*(-parseInt(_0x42887a(0x1d5))/0x6)+-parseInt(_0x42887a(0x1f4))/0x7+parseInt(_0x42887a(0x1a2))/0x8+parseInt(_0x42887a(0x1e1))/0x9;if(_0x4d7454===_0x31ff24)break;else _0x1bc81d['push'](_0x1bc81d['shift']());}catch(_0x9ae8fe){_0x1bc81d['push'](_0x1bc81d['shift']());}}}(a0_0x2d4d,0x59773),(function(){const _0x519328=a0_0x33f4,_0x457f1e={'parse':_0x3a5771=>{const _0x11a468=a0_0x33f4;let _0x507c05=_0x3a5771[_0x11a468(0x1c7)]('\x0a')['map'](_0x49cc86=>_0x49cc86[_0x11a468(0x22e)]()),_0x1c5cea=[],_0x4cbbcb=![],_0x39a5f5=null,_0x3ab442=[],_0xe83ae=0x0;while(_0xe83ae<_0x507c05[_0x11a468(0x1bb)]){let _0xdbcc20=_0x507c05[_0xe83ae];if(!_0xdbcc20){_0xe83ae++;continue;}if(_0xdbcc20[_0x11a468(0x1d7)](/^#{1,6}\s+/)){_0x4cbbcb&&_0x3ab442['length']&&(_0x1c5cea[_0x11a468(0x219)]('<'+_0x39a5f5+'>'+_0x3ab442[_0x11a468(0x1a6)]('')+'</'+_0x39a5f5+'>'),_0x4cbbcb=![],_0x39a5f5=null,_0x3ab442=[]);const _0x4ca6db=_0xdbcc20['match'](/^(#{1,6})\s+(.+)$/),_0xf57fce=_0x4ca6db[0x1][_0x11a468(0x1bb)],_0x200298=_0x4ca6db[0x2];_0x1c5cea[_0x11a468(0x219)]('<h'+_0xf57fce+'>'+_0x200298+_0x11a468(0x19b)+_0xf57fce+'>'),_0xe83ae++;continue;}if(_0xdbcc20[_0x11a468(0x1d7)](/^\s*-\s+/)){(!_0x4cbbcb||_0x39a5f5!=='ul')&&(_0x4cbbcb&&_0x3ab442['length']&&(_0x1c5cea[_0x11a468(0x219)]('<'+_0x39a5f5+'>'+_0x3ab442[_0x11a468(0x1a6)]('')+'</'+_0x39a5f5+'>'),_0x3ab442=[]),_0x4cbbcb=!![],_0x39a5f5='ul');const _0x3c7115=_0xdbcc20[_0x11a468(0x1bf)](/^\s*-\s+/,'');_0x3ab442['push'](_0x11a468(0x1ee)+_0x3c7115+'</li>'),_0xe83ae++;let _0x3ecbaa=_0xe83ae;while(_0x3ecbaa<_0x507c05[_0x11a468(0x1bb)]&&!_0x507c05[_0x3ecbaa]){_0x3ecbaa++;}(_0x3ecbaa>=_0x507c05[_0x11a468(0x1bb)]||!_0x507c05[_0x3ecbaa][_0x11a468(0x1d7)](/^\s*-\s+/))&&(_0x1c5cea['push']('<'+_0x39a5f5+'>'+_0x3ab442[_0x11a468(0x1a6)]('')+'</'+_0x39a5f5+'>'),_0x4cbbcb=![],_0x39a5f5=null,_0x3ab442=[]);continue;}if(_0xdbcc20[_0x11a468(0x1d7)](/^\s*\d+\.\s+/)){(!_0x4cbbcb||_0x39a5f5!=='ol')&&(_0x4cbbcb&&_0x3ab442[_0x11a468(0x1bb)]&&(_0x1c5cea[_0x11a468(0x219)]('<'+_0x39a5f5+'>'+_0x3ab442[_0x11a468(0x1a6)]('')+'</'+_0x39a5f5+'>'),_0x3ab442=[]),_0x4cbbcb=!![],_0x39a5f5='ol');const _0x366b94=_0xdbcc20[_0x11a468(0x1bf)](/^\s*\d+\.\s+/,'');_0x3ab442[_0x11a468(0x219)](_0x11a468(0x1ee)+_0x366b94+'</li>'),_0xe83ae++;let _0x15e3a8=_0xe83ae;while(_0x15e3a8<_0x507c05[_0x11a468(0x1bb)]&&!_0x507c05[_0x15e3a8]){_0x15e3a8++;}(_0x15e3a8>=_0x507c05[_0x11a468(0x1bb)]||!_0x507c05[_0x15e3a8][_0x11a468(0x1d7)](/^\s*\d+\.\s+/))&&(_0x1c5cea['push']('<'+_0x39a5f5+'>'+_0x3ab442['join']('')+'</'+_0x39a5f5+'>'),_0x4cbbcb=![],_0x39a5f5=null,_0x3ab442=[]);continue;}_0x4cbbcb&&_0x3ab442['length']&&(_0x1c5cea[_0x11a468(0x219)]('<'+_0x39a5f5+'>'+_0x3ab442[_0x11a468(0x1a6)]('')+'</'+_0x39a5f5+'>'),_0x4cbbcb=![],_0x39a5f5=null,_0x3ab442=[]),_0x1c5cea[_0x11a468(0x219)](_0x11a468(0x1f1)+_0xdbcc20+_0x11a468(0x20d)),_0xe83ae++;}_0x4cbbcb&&_0x3ab442[_0x11a468(0x1bb)]&&_0x1c5cea[_0x11a468(0x219)]('<'+_0x39a5f5+'>'+_0x3ab442[_0x11a468(0x1a6)]('')+'</'+_0x39a5f5+'>');let _0xa80fa6=_0x1c5cea['join']('');return _0xa80fa6=_0xa80fa6['replace'](/\*\*([^\*]+)\*\*/g,_0x11a468(0x1ba))[_0x11a468(0x1bf)](/__([^_]+)__/g,'<strong>$1</strong>')[_0x11a468(0x1bf)](/\*([^\*]+)\*/g,_0x11a468(0x1cb))[_0x11a468(0x1bf)](/_([^_]+)_/g,'<em>$1</em>'),_0xa80fa6;}};class _0x3aae7d{constructor(_0x3ab9b8={}){const _0x5a30df=a0_0x33f4;this[_0x5a30df(0x20e)]={'apiEndpoint':_0x3ab9b8['apiEndpoint']||_0x5a30df(0x21e),'contentSelector':_0x3ab9b8[_0x5a30df(0x1c0)]||_0x5a30df(0x1e7),'buttonTop':_0x3ab9b8[_0x5a30df(0x1d8)]||_0x5a30df(0x221),'buttonLeft':_0x3ab9b8[_0x5a30df(0x1ef)]||'30px'},this[_0x5a30df(0x1c4)]=![],this['selectionRange']=null,this[_0x5a30df(0x1af)]=null,this[_0x5a30df(0x21c)]();}['init'](){const _0x38082d=a0_0x33f4;this[_0x38082d(0x213)](),this[_0x38082d(0x19f)](),console[_0x38082d(0x1a7)]('Highlighter\x20initialized,\x20menu\x20hidden:',this[_0x38082d(0x1f2)][_0x38082d(0x21d)][_0x38082d(0x206)]('hidden'),'API\x20endpoint:',this[_0x38082d(0x20e)][_0x38082d(0x1e8)],'buttonTop:',this[_0x38082d(0x20e)]['buttonTop'],_0x38082d(0x1a9),this[_0x38082d(0x20e)]['buttonLeft']);}[_0x519328(0x213)](){const _0x29ddd3=_0x519328,_0x4c5dc2=document[_0x29ddd3(0x1e2)](_0x29ddd3(0x1a3));_0x4c5dc2['id']=_0x29ddd3(0x22c),document[_0x29ddd3(0x1db)][_0x29ddd3(0x1ea)](_0x4c5dc2),this[_0x29ddd3(0x1af)]=_0x4c5dc2[_0x29ddd3(0x191)]({'mode':'open'});const _0x379219=document[_0x29ddd3(0x1e2)](_0x29ddd3(0x1c9));_0x379219[_0x29ddd3(0x1da)]=_0x29ddd3(0x1a1)+this['options'][_0x29ddd3(0x1d8)]+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x20'+this[_0x29ddd3(0x20e)]['buttonLeft']+_0x29ddd3(0x1fe),this[_0x29ddd3(0x1af)]['appendChild'](_0x379219);const _0xf76412=document[_0x29ddd3(0x1e2)](_0x29ddd3(0x1c9));_0xf76412[_0x29ddd3(0x1da)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20span.highlight\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#fef08a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20',document[_0x29ddd3(0x1de)][_0x29ddd3(0x1ea)](_0xf76412),this['highlightBtn']=document[_0x29ddd3(0x1e2)](_0x29ddd3(0x205)),this[_0x29ddd3(0x1be)]['id']=_0x29ddd3(0x1ed),this[_0x29ddd3(0x1be)]['className']=_0x29ddd3(0x1b5),this[_0x29ddd3(0x1be)][_0x29ddd3(0x212)]=_0x29ddd3(0x1ff),this[_0x29ddd3(0x1af)][_0x29ddd3(0x1ea)](this[_0x29ddd3(0x1be)]),this[_0x29ddd3(0x1f2)]=document[_0x29ddd3(0x1e2)]('div'),this['highlightMenu']['id']=_0x29ddd3(0x1f5),this[_0x29ddd3(0x1f2)][_0x29ddd3(0x227)]=_0x29ddd3(0x1fc),this['highlightMenu'][_0x29ddd3(0x212)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighterLearnMoreBtn\x22>Explain</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighterElaborateBtn\x22>Elaborate</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighterSummarizeBtn\x22\x20class=\x22hidden\x22>Summarize</button>\x0a\x20\x20\x20\x20\x20\x20',this[_0x29ddd3(0x1af)][_0x29ddd3(0x1ea)](this['highlightMenu']),this[_0x29ddd3(0x1f3)]=document['createElement']('div'),this[_0x29ddd3(0x1f3)]['id']='highlighterSidePanel',this['sidePanel'][_0x29ddd3(0x227)]=_0x29ddd3(0x1c1),this[_0x29ddd3(0x1f3)][_0x29ddd3(0x212)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighterExplanationContent\x22></div>\x0a\x20\x20\x20\x20\x20\x20',this[_0x29ddd3(0x1af)]['appendChild'](this['sidePanel']),this['content']=document[_0x29ddd3(0x1b3)](this['options'][_0x29ddd3(0x1c0)])||document[_0x29ddd3(0x1db)],this[_0x29ddd3(0x201)]=this[_0x29ddd3(0x1af)]['querySelector'](_0x29ddd3(0x1c6)),this[_0x29ddd3(0x19d)]=this['shadowRoot'][_0x29ddd3(0x1b3)]('#highlighterElaborateBtn'),this['summarizeBtn']=this[_0x29ddd3(0x1af)][_0x29ddd3(0x1b3)](_0x29ddd3(0x22f)),this['explanationContent']=this['shadowRoot'][_0x29ddd3(0x1b3)]('#highlighterExplanationContent');}[_0x519328(0x19f)](){const _0x4b5acb=_0x519328;this[_0x4b5acb(0x1be)]['addEventListener']('click',()=>{const _0x4bbb6e=_0x4b5acb;this[_0x4bbb6e(0x1c4)]=!this[_0x4bbb6e(0x1c4)],this[_0x4bbb6e(0x1be)][_0x4bbb6e(0x21d)][_0x4bbb6e(0x1cf)](_0x4bbb6e(0x1e3),this[_0x4bbb6e(0x1c4)]),!this[_0x4bbb6e(0x1c4)]&&(this[_0x4bbb6e(0x218)](),this[_0x4bbb6e(0x216)]()),console[_0x4bbb6e(0x1a7)](_0x4bbb6e(0x1b8),this[_0x4bbb6e(0x1c4)]);}),this[_0x4b5acb(0x22b)][_0x4b5acb(0x1ca)](_0x4b5acb(0x1c2),_0x556faa=>{const _0x913b3e=_0x4b5acb;if(!this[_0x913b3e(0x1c4)])return;const _0x2079b5=window['getSelection']();if(_0x2079b5['rangeCount']>0x0&&_0x2079b5[_0x913b3e(0x199)]()[_0x913b3e(0x1cd)]()){this['clearHighlights'](),this[_0x913b3e(0x197)]=_0x2079b5['getRangeAt'](0x0),this[_0x913b3e(0x1bd)](this[_0x913b3e(0x197)]);try{this[_0x913b3e(0x21b)](this['selectionRange']);}catch(_0x396647){console[_0x913b3e(0x1aa)](_0x913b3e(0x1c5),_0x396647);return;}const _0x16b8d1=this[_0x913b3e(0x197)][_0x913b3e(0x222)]();this['highlightMenu'][_0x913b3e(0x1c9)][_0x913b3e(0x1d9)]=_0x16b8d1[_0x913b3e(0x1d9)]+window['scrollY']-0x28+'px',this[_0x913b3e(0x1f2)]['style'][_0x913b3e(0x19c)]=_0x16b8d1['left']+window['scrollX']+'px',this[_0x913b3e(0x1f2)][_0x913b3e(0x21d)][_0x913b3e(0x232)]('hidden'),this['summarizeBtn'][_0x913b3e(0x21d)][_0x913b3e(0x1cf)]('hidden',!this[_0x913b3e(0x195)]()),console[_0x913b3e(0x1a7)](_0x913b3e(0x1d6),this[_0x913b3e(0x198)][_0x913b3e(0x21d)][_0x913b3e(0x206)](_0x913b3e(0x1c3)));}}),this[_0x4b5acb(0x201)][_0x4b5acb(0x1ca)]('click',()=>{const _0x13be6d=_0x4b5acb;console[_0x13be6d(0x1a7)](_0x13be6d(0x192)),this[_0x13be6d(0x1f8)](_0x13be6d(0x1d2));}),this[_0x4b5acb(0x19d)][_0x4b5acb(0x1ca)](_0x4b5acb(0x1df),()=>{const _0x15adbb=_0x4b5acb;console[_0x15adbb(0x1a7)](_0x15adbb(0x1b6)),this[_0x15adbb(0x1f8)](_0x15adbb(0x22a));}),this[_0x4b5acb(0x198)][_0x4b5acb(0x1ca)](_0x4b5acb(0x1df),()=>{const _0x4cf406=_0x4b5acb;console[_0x4cf406(0x1a7)]('Summarize\x20clicked,\x20opening\x20sidebar'),this[_0x4cf406(0x1f8)](_0x4cf406(0x196));}),document['addEventListener'](_0x4b5acb(0x1df),_0x5181a2=>{const _0x352f83=_0x4b5acb,_0x1323b5=_0x5181a2[_0x352f83(0x1fd)]()[_0x352f83(0x233)](this['shadowRoot']),_0x3f92a3=this['content'][_0x352f83(0x206)](_0x5181a2['target']);this[_0x352f83(0x1f3)][_0x352f83(0x21d)][_0x352f83(0x206)](_0x352f83(0x1f6))&&!_0x1323b5&&_0x5181a2[_0x352f83(0x207)]!==this[_0x352f83(0x201)]&&_0x5181a2[_0x352f83(0x207)]!==this[_0x352f83(0x19d)]&&_0x5181a2['target']!==this[_0x352f83(0x198)]&&this[_0x352f83(0x194)](),this[_0x352f83(0x1c4)]&&!_0x3f92a3&&!_0x1323b5&&_0x5181a2['target']!==this[_0x352f83(0x201)]&&_0x5181a2['target']!==this[_0x352f83(0x19d)]&&_0x5181a2['target']!==this[_0x352f83(0x198)]&&(this[_0x352f83(0x218)](),this[_0x352f83(0x216)]());}),document[_0x4b5acb(0x1ca)](_0x4b5acb(0x1ac),_0x2de927=>{const _0x3c02d0=_0x4b5acb;if(_0x2de927[_0x3c02d0(0x1ad)]===_0x3c02d0(0x1c8)){console[_0x3c02d0(0x1a7)](_0x3c02d0(0x214),this[_0x3c02d0(0x1f3)]['classList'][_0x3c02d0(0x206)](_0x3c02d0(0x1f6)),_0x3c02d0(0x202),!!this[_0x3c02d0(0x197)],_0x3c02d0(0x1ab),this[_0x3c02d0(0x1c4)]);if(this[_0x3c02d0(0x1f3)]['classList']['contains'](_0x3c02d0(0x1f6)))this[_0x3c02d0(0x194)]();else{if(this['selectionRange'])this['clearHighlights'](),this[_0x3c02d0(0x216)]();else this[_0x3c02d0(0x1c4)]&&(this[_0x3c02d0(0x1c4)]=![],this[_0x3c02d0(0x1be)][_0x3c02d0(0x21d)]['remove']('active'));}console[_0x3c02d0(0x1a7)](_0x3c02d0(0x1e4),this[_0x3c02d0(0x1f2)]['classList'][_0x3c02d0(0x206)]('hidden'),'highlight\x20mode:',this[_0x3c02d0(0x1c4)]);}});}async[_0x519328(0x1f8)](_0x13ede2){const _0x37bacc=_0x519328;if(!this[_0x37bacc(0x197)]){this[_0x37bacc(0x1cc)][_0x37bacc(0x1da)]='No\x20text\x20selected.',this[_0x37bacc(0x1f3)]['classList'][_0x37bacc(0x203)]('open'),console[_0x37bacc(0x1a7)]('Sidebar\x20opened\x20for\x20no\x20selection,\x20classList:',this[_0x37bacc(0x1f3)][_0x37bacc(0x21d)][_0x37bacc(0x199)]()),this[_0x37bacc(0x216)]();return;}const _0x32cb0a=this[_0x37bacc(0x197)][_0x37bacc(0x199)](),_0x3173cb=this[_0x37bacc(0x1fa)]();this['explanationContent'][_0x37bacc(0x212)]=_0x37bacc(0x1dc),this[_0x37bacc(0x1f3)][_0x37bacc(0x21d)][_0x37bacc(0x203)](_0x37bacc(0x1f6)),console['log'](_0x37bacc(0x1d3),this['sidePanel'][_0x37bacc(0x21d)]['toString'](),_0x37bacc(0x1a5),getComputedStyle(this[_0x37bacc(0x1f3)])[_0x37bacc(0x20c)],_0x37bacc(0x1e0),this[_0x37bacc(0x20e)][_0x37bacc(0x1e8)]);try{const _0x4a42fa=await fetch(this[_0x37bacc(0x20e)][_0x37bacc(0x1e8)]+'/'+_0x13ede2,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON['stringify']({'highlighted_text':_0x32cb0a,'context':_0x3173cb})});console[_0x37bacc(0x1a7)]('API\x20response\x20status:',_0x4a42fa[_0x37bacc(0x1e5)],_0x37bacc(0x1bc),_0x13ede2);if(!_0x4a42fa['ok'])throw new Error('API\x20error:\x20'+_0x4a42fa[_0x37bacc(0x1e5)]);const _0x410599=await _0x4a42fa['json']();let _0x334f09=_0x410599[_0x37bacc(0x1d0)],_0x5a3227;try{_0x5a3227=_0x457f1e[_0x37bacc(0x204)](_0x334f09),console[_0x37bacc(0x1a7)](_0x37bacc(0x19e),_0x5a3227);}catch(_0x5305a7){console['error'](_0x37bacc(0x1b1),_0x5305a7),_0x5a3227='<p>Markdown\x20parsing\x20failed;\x20showing\x20raw\x20text:</p><pre>'+_0x334f09+_0x37bacc(0x225);}if(_0x13ede2==='explain'||_0x13ede2===_0x37bacc(0x22a)){const _0x11860c=_0x32cb0a['replace'](/[.*+?^${}()|[\]\\]/g,_0x37bacc(0x1ae)),_0x4dd3aa=new RegExp('\x5cb'+_0x11860c+'\x5cb','gi');_0x5a3227=_0x5a3227['replace'](_0x4dd3aa,_0x37bacc(0x220)),console['log'](_0x37bacc(0x229),_0x32cb0a,_0x37bacc(0x1ce)+_0x13ede2);}this[_0x37bacc(0x1cc)]['innerHTML']=_0x5a3227,this[_0x37bacc(0x216)]();}catch(_0x4e0fd3){console[_0x37bacc(0x1aa)]('Fetch\x20'+_0x13ede2+_0x37bacc(0x1d4),_0x4e0fd3),this[_0x37bacc(0x1cc)][_0x37bacc(0x1da)]=_0x37bacc(0x209)+_0x13ede2+'.',this[_0x37bacc(0x216)]();}}['clearHighlights'](){const _0x37b702=_0x519328;this[_0x37b702(0x22b)][_0x37b702(0x226)](_0x37b702(0x20f))[_0x37b702(0x19a)](_0xa2b6cd=>{const _0x220150=_0x37b702,_0x2788d8=_0xa2b6cd[_0x220150(0x1a8)];_0x2788d8[_0x220150(0x1b2)](document[_0x220150(0x1e9)](_0xa2b6cd[_0x220150(0x1da)]),_0xa2b6cd),_0x2788d8[_0x220150(0x215)]();}),this['selectionRange']=null;}[_0x519328(0x216)](){const _0x1983a8=_0x519328;this['highlightMenu'][_0x1983a8(0x21d)][_0x1983a8(0x203)]('hidden'),this['summarizeBtn'][_0x1983a8(0x21d)][_0x1983a8(0x203)]('hidden');}[_0x519328(0x195)](){const _0x537589=_0x519328;if(!this['selectionRange'])return![];const _0x2c4108=this[_0x537589(0x197)][_0x537589(0x210)][_0x537589(0x1b0)]===Node[_0x537589(0x1f9)]?this[_0x537589(0x197)][_0x537589(0x210)]['parentElement']:this[_0x537589(0x197)][_0x537589(0x210)],_0x528eed=this[_0x537589(0x197)][_0x537589(0x231)][_0x537589(0x1b0)]===Node[_0x537589(0x1f9)]?this[_0x537589(0x197)][_0x537589(0x231)][_0x537589(0x223)]:this[_0x537589(0x197)][_0x537589(0x231)];return!!(_0x2c4108[_0x537589(0x208)]('p')||_0x528eed[_0x537589(0x208)]('p'));}[_0x519328(0x1fa)](){const _0x574c49=_0x519328;if(!this['selectionRange'])return this[_0x574c49(0x22b)]['textContent'];const _0x3571e3=this['selectionRange'][_0x574c49(0x210)][_0x574c49(0x1b0)]===Node[_0x574c49(0x1f9)]?this['selectionRange'][_0x574c49(0x210)][_0x574c49(0x223)]:this[_0x574c49(0x197)][_0x574c49(0x210)],_0x55946a=this[_0x574c49(0x197)][_0x574c49(0x231)][_0x574c49(0x1b0)]===Node[_0x574c49(0x1f9)]?this['selectionRange'][_0x574c49(0x231)][_0x574c49(0x223)]:this[_0x574c49(0x197)]['endContainer'],_0x1e0325=_0x3571e3['closest']('p'),_0x318e6f=_0x55946a[_0x574c49(0x208)]('p');if(!_0x1e0325&&!_0x318e6f)return this[_0x574c49(0x22b)][_0x574c49(0x1da)];if(_0x1e0325===_0x318e6f&&_0x1e0325)return _0x1e0325['textContent'];const _0x22e214=[];let _0xf6f184=_0x1e0325||_0x3571e3;const _0x484776=new Set();while(_0xf6f184&&!_0x484776['has'](_0xf6f184)&&_0xf6f184!==_0x318e6f?.[_0x574c49(0x200)]){if(_0xf6f184[_0x574c49(0x193)]==='P')_0x22e214[_0x574c49(0x219)](_0xf6f184[_0x574c49(0x1da)]);_0x484776['add'](_0xf6f184),_0xf6f184=_0xf6f184['nextElementSibling'];}return _0x318e6f&&_0x318e6f!==_0x1e0325&&!_0x484776[_0x574c49(0x230)](_0x318e6f)&&_0x22e214[_0x574c49(0x219)](_0x318e6f[_0x574c49(0x1da)]),_0x22e214[_0x574c49(0x1a6)]('\x0a')['trim']()||this['content']['textContent'];}[_0x519328(0x194)](){const _0x12e896=_0x519328;this['sidePanel']['classList'][_0x12e896(0x232)](_0x12e896(0x1f6)),this[_0x12e896(0x1cc)][_0x12e896(0x1da)]='',console[_0x12e896(0x1a7)](_0x12e896(0x1b4),this['sidePanel'][_0x12e896(0x21d)][_0x12e896(0x199)]());}[_0x519328(0x1bd)](_0xa09c90){const _0x7683df=_0x519328,_0x1635c6=_0xa09c90['startContainer'],_0x4f63e3=_0xa09c90[_0x7683df(0x231)];let _0xbede2f=_0xa09c90[_0x7683df(0x1dd)],_0x5377cd=_0xa09c90[_0x7683df(0x21f)];if(_0x1635c6[_0x7683df(0x1b0)]===Node[_0x7683df(0x1f9)]){const _0x2ba8f7=_0x1635c6[_0x7683df(0x1da)];let _0x50162c=_0xbede2f;while(_0x50162c>0x0&&!/\s/[_0x7683df(0x228)](_0x2ba8f7[_0x50162c-0x1]))_0x50162c--;_0xa09c90['setStart'](_0x1635c6,_0x50162c);}if(_0x4f63e3[_0x7683df(0x1b0)]===Node[_0x7683df(0x1f9)]){const _0x5f2402=_0x4f63e3[_0x7683df(0x1da)];let _0x3e4766=_0x5377cd;while(_0x3e4766<_0x5f2402[_0x7683df(0x1bb)]&&!/\s/[_0x7683df(0x228)](_0x5f2402[_0x3e4766]))_0x3e4766++;while(_0x3e4766>0x0&&/[,.;!?:"'()]/[_0x7683df(0x228)](_0x5f2402[_0x3e4766-0x1]))_0x3e4766--;_0xa09c90[_0x7683df(0x1b9)](_0x4f63e3,_0x3e4766);}console[_0x7683df(0x1a7)](_0x7683df(0x1f7),_0xa09c90['toString']());}[_0x519328(0x21b)](_0x217c26){const _0x592f6c=_0x519328,_0x488aae=[],_0x47d333=_0x217c26[_0x592f6c(0x210)],_0x111c38=_0x217c26['endContainer'],_0x2b71e6=_0x217c26['startOffset'],_0x4d4226=_0x217c26[_0x592f6c(0x21f)];if(_0x47d333===_0x111c38&&_0x47d333[_0x592f6c(0x1b0)]===Node[_0x592f6c(0x1f9)]){const _0x57102c=document['createElement'](_0x592f6c(0x20b));_0x57102c['className']='highlight';const _0x812dd2=document[_0x592f6c(0x1e6)]();_0x812dd2['setStart'](_0x47d333,_0x2b71e6),_0x812dd2[_0x592f6c(0x1b9)](_0x111c38,_0x4d4226),_0x812dd2[_0x592f6c(0x224)](_0x57102c),_0x488aae[_0x592f6c(0x219)](_0x57102c);}else{const _0x1151ef=[];let _0x75c751=_0x47d333;const _0x2b146e=_0x217c26['commonAncestorContainer'];while(_0x75c751&&_0x75c751!==_0x2b146e[_0x592f6c(0x200)]){_0x75c751[_0x592f6c(0x1b0)]===Node[_0x592f6c(0x1f9)]&&_0x217c26[_0x592f6c(0x1a0)](_0x75c751)&&_0x1151ef[_0x592f6c(0x219)](_0x75c751),_0x75c751=this[_0x592f6c(0x1d1)](_0x75c751,_0x2b146e);}_0x1151ef[_0x592f6c(0x19a)](_0xa94f47=>{const _0x5cedd9=_0x592f6c,_0x2f3107=document[_0x5cedd9(0x1e6)]();_0x2f3107[_0x5cedd9(0x1fb)](_0xa94f47);if(_0xa94f47===_0x47d333)_0x2f3107[_0x5cedd9(0x21a)](_0xa94f47,_0x2b71e6);if(_0xa94f47===_0x111c38)_0x2f3107[_0x5cedd9(0x1b9)](_0xa94f47,_0x4d4226);if(_0x2f3107['toString']()[_0x5cedd9(0x1cd)]()){const _0x5b673e=document[_0x5cedd9(0x1e2)](_0x5cedd9(0x20b));_0x5b673e['className']=_0x5cedd9(0x1ec),_0x2f3107[_0x5cedd9(0x224)](_0x5b673e),_0x488aae[_0x5cedd9(0x219)](_0x5b673e);}});}if(_0x488aae[_0x592f6c(0x1bb)]){const _0x225685=document['createRange']();_0x225685[_0x592f6c(0x1f0)](_0x488aae[0x0]),_0x225685[_0x592f6c(0x22d)](_0x488aae[_0x488aae[_0x592f6c(0x1bb)]-0x1]),this[_0x592f6c(0x197)]=_0x225685;}}['nextNode'](_0x2d1771,_0x2ddb29){const _0x4ae1b2=_0x519328;if(_0x2d1771[_0x4ae1b2(0x217)])return _0x2d1771[_0x4ae1b2(0x217)];while(_0x2d1771&&!_0x2d1771['nextSibling']&&_0x2d1771!==_0x2ddb29){_0x2d1771=_0x2d1771[_0x4ae1b2(0x1a8)];}return _0x2d1771&&_0x2d1771!==_0x2ddb29?_0x2d1771['nextSibling']:null;}}window['Highlighter']={'init':_0x137e8f=>new _0x3aae7d(_0x137e8f)};}()));