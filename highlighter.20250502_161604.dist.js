function a0_0xeefc(_0x2c12e5,_0x15be5b){const _0x4bc3c9=a0_0x4bc3();return a0_0xeefc=function(_0xeefc39,_0x3f8f0e){_0xeefc39=_0xeefc39-0x1cb;let _0x432606=_0x4bc3c9[_0xeefc39];return _0x432606;},a0_0xeefc(_0x2c12e5,_0x15be5b);}function a0_0x4bc3(){const _0x5d69c4=['className','commonAncestorContainer','<p>Markdown\x20parsing\x20failed\x20(library\x20not\x20loaded);\x20showing\x20raw\x20text:</p><pre>','344uipcpI','status','summarizeBtn','highlighter-button','setupEventListeners','test','querySelector','parse',';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x20','getSelectionContext','innerHTML','classList','Parsed\x20HTML:','remove','transform','parentNode','Markdown\x20parsing\x20error:','error','clearHighlights','highlight','createShadowDOM','777270IODAcr','createTextNode','textContent','log','endContainer','691038kUGCvM','closest','head','toString','API\x20endpoint:','After\x20Escape,\x20menu\x20hidden:','#highlighterElaborateBtn','transform:','highlighterSidePanel','highlighter-side-panel','createElement','elaborateBtn','summarize','API\x20error:\x20','220px','fetchApi','span.highlight','nextNode','result','content','replace','isParagraphSelected','\x20error:','<p>Markdown\x20parsing\x20failed;\x20showing\x20raw\x20text:</p><pre>','init','<strong>$&</strong>','in\x20','undefined','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighterLearnMoreBtn\x22>Explain</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighterElaborateBtn\x22>Elaborate</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighterSummarizeBtn\x22\x20class=\x22hidden\x22>Summarize</button>\x0a\x20\x20\x20\x20\x20\x20','setStartBefore','highlighterBtn','top','replaceChild','attachShadow','nextElementSibling','Sidebar\x20closed,\x20classList:','explain','button','parentElement','buttonTop','appendChild','firstChild','highlightBtn','#highlighterExplanationContent','push','json','Highlighter','30mTynoz','nextSibling','active','getRangeAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighterExplanationContent\x22></div>\x0a\x20\x20\x20\x20\x20\x20','147268YSaTvG','mouseup','highlightMenu','startOffset','hideMenu','left','setStart','API\x20response\x20status:','toggle','key','surroundContents','elaborate','Raw\x20Markdown:','348512wjDrTS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x20','applyHighlight','https://faas-nyc1-2ef2e6cc.doserverless.co/api/v1/web/fn-a25b91e2-eb0e-4b0e-a7d2-9c54519d6c5e/default','rangeCount','includes','</pre>','\x5c$&','style','intersectsNode','Sidebar\x20opened\x20for\x20no\x20selection,\x20classList:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20span.highlight\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#fef08a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','Fetch\x20','getBoundingClientRect','apiEndpoint','length','querySelectorAll','explanationContent','setEnd','has','contentSelector','join','normalize','expandRangeToWords','learnMoreBtn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20width=\x2224\x22\x20height=\x2224\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<path\x20d=\x22M4\x2018h16l-2-10H6l-2\x2010zm10-12h-4V4h4v2zm-2\x2012.5a1.5\x201.5\x200\x201\x201\x200-3\x201.5\x201.5\x200\x200\x201\x200\x203z\x22/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20','128247QfHKmZ','options','closeSidePanel','add','buttonLeft:','Escape','91080OHqdgA','isHighlightMode','createRange','nodeType','Highlight\x20mode:','Sidebar\x20opened,\x20classList:','target','text\x20highlighted:','click','open','highlight\x20mode:','highlighterMenu','buttonLeft','getSelection','hidden','highlighter-root','addEventListener','selectionRange','contains','sidePanel','30px','function','shadowRoot','for\x20endpoint:','endOffset','Marked\x20library\x20not\x20available','Bolding\x20term:','body','scrollY','Trimmed\x20selection:','div','trim','TEXT_NODE','span','startContainer','Escape\x20pressed,\x20sidebar\x20open:','2413044jPljtF'];a0_0x4bc3=function(){return _0x5d69c4;};return a0_0x4bc3();}(function(_0x295739,_0x7186e0){const _0x21ed93=a0_0xeefc,_0x7a8e20=_0x295739();while(!![]){try{const _0x4c231c=parseInt(_0x21ed93(0x1f9))/0x1+-parseInt(_0x21ed93(0x232))/0x2+-parseInt(_0x21ed93(0x25f))/0x3+parseInt(_0x21ed93(0x23f))/0x4+-parseInt(_0x21ed93(0x22d))/0x5*(-parseInt(_0x21ed93(0x1fe))/0x6)+parseInt(_0x21ed93(0x259))/0x7*(-parseInt(_0x21ed93(0x1e4))/0x8)+-parseInt(_0x21ed93(0x1e0))/0x9;if(_0x4c231c===_0x7186e0)break;else _0x7a8e20['push'](_0x7a8e20['shift']());}catch(_0x8ae614){_0x7a8e20['push'](_0x7a8e20['shift']());}}}(a0_0x4bc3,0x60903),(function(){const _0x7f1125=a0_0xeefc;class _0x386371{constructor(_0xc80e13={}){const _0x20d5e1=a0_0xeefc;this[_0x20d5e1(0x25a)]={'apiEndpoint':_0xc80e13['apiEndpoint']||_0x20d5e1(0x242),'contentSelector':_0xc80e13[_0x20d5e1(0x253)]||'[data-highlighter=\x22content\x22]','buttonTop':_0xc80e13['buttonTop']||_0x20d5e1(0x20c),'buttonLeft':_0xc80e13[_0x20d5e1(0x26b)]||_0x20d5e1(0x1d0)},this['isHighlightMode']=![],this['selectionRange']=null,this['shadowRoot']=null,this['init']();}[_0x7f1125(0x216)](){const _0x289e33=_0x7f1125;this[_0x289e33(0x1f8)](),this[_0x289e33(0x1e8)](),console['log']('Highlighter\x20initialized,\x20menu\x20hidden:',this[_0x289e33(0x234)][_0x289e33(0x1ef)]['contains'](_0x289e33(0x26d)),_0x289e33(0x202),this[_0x289e33(0x25a)][_0x289e33(0x24d)],'buttonTop:',this[_0x289e33(0x25a)][_0x289e33(0x225)],_0x289e33(0x25d),this['options'][_0x289e33(0x26b)]);}[_0x7f1125(0x1f8)](){const _0x43345c=_0x7f1125,_0x21577d=document[_0x43345c(0x208)](_0x43345c(0x1da));_0x21577d['id']=_0x43345c(0x1cb),document['body'][_0x43345c(0x226)](_0x21577d),this[_0x43345c(0x1d2)]=_0x21577d[_0x43345c(0x21f)]({'mode':'open'});const _0x55ddb5=document[_0x43345c(0x208)](_0x43345c(0x247));_0x55ddb5[_0x43345c(0x1fb)]=_0x43345c(0x240)+this[_0x43345c(0x25a)][_0x43345c(0x225)]+_0x43345c(0x1ec)+this['options'][_0x43345c(0x26b)]+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2030;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x201px\x203px\x201px\x20rgba(0,\x200,\x200,\x200.06);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20outline:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-button.active\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#fef08a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-button\x20svg\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fill:\x20#333333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-menu\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#1f2937;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x206px\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20row;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-menu\x20button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x204px\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-menu\x20button:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#374151;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.hidden\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-side-panel\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20320px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x20-2px\x200\x208px\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(100%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease-in-out;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2099999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-side-panel.open\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-spinner-wrapper\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-spinner\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x206px\x20solid\x20#f3f3f3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x206px\x20solid\x20#3498db;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20spin\x201s\x20linear\x20infinite;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20@keyframes\x20spin\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x20transform:\x20rotate(0deg);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x20transform:\x20rotate(360deg);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20',this[_0x43345c(0x1d2)][_0x43345c(0x226)](_0x55ddb5);const _0x3d1688=document[_0x43345c(0x208)](_0x43345c(0x247));_0x3d1688['textContent']=_0x43345c(0x24a),document[_0x43345c(0x200)]['appendChild'](_0x3d1688),this[_0x43345c(0x228)]=document['createElement'](_0x43345c(0x223)),this[_0x43345c(0x228)]['id']=_0x43345c(0x21c),this['highlightBtn'][_0x43345c(0x1e1)]=_0x43345c(0x1e7),this['highlightBtn'][_0x43345c(0x1ee)]=_0x43345c(0x258),this[_0x43345c(0x1d2)]['appendChild'](this['highlightBtn']),this[_0x43345c(0x234)]=document[_0x43345c(0x208)](_0x43345c(0x1da)),this[_0x43345c(0x234)]['id']=_0x43345c(0x26a),this['highlightMenu'][_0x43345c(0x1e1)]='highlighter-menu\x20hidden',this[_0x43345c(0x234)][_0x43345c(0x1ee)]=_0x43345c(0x21a),this[_0x43345c(0x1d2)]['appendChild'](this[_0x43345c(0x234)]),this[_0x43345c(0x1cf)]=document[_0x43345c(0x208)](_0x43345c(0x1da)),this['sidePanel']['id']=_0x43345c(0x206),this['sidePanel'][_0x43345c(0x1e1)]=_0x43345c(0x207),this[_0x43345c(0x1cf)][_0x43345c(0x1ee)]=_0x43345c(0x231),this[_0x43345c(0x1d2)][_0x43345c(0x226)](this[_0x43345c(0x1cf)]),this[_0x43345c(0x211)]=document['querySelector'](this[_0x43345c(0x25a)][_0x43345c(0x253)])||document[_0x43345c(0x1d7)],this[_0x43345c(0x257)]=this[_0x43345c(0x1d2)][_0x43345c(0x1ea)]('#highlighterLearnMoreBtn'),this[_0x43345c(0x209)]=this[_0x43345c(0x1d2)][_0x43345c(0x1ea)](_0x43345c(0x204)),this[_0x43345c(0x1e6)]=this[_0x43345c(0x1d2)]['querySelector']('#highlighterSummarizeBtn'),this[_0x43345c(0x250)]=this[_0x43345c(0x1d2)][_0x43345c(0x1ea)](_0x43345c(0x229));}[_0x7f1125(0x1e8)](){const _0x1a6f69=_0x7f1125;this[_0x1a6f69(0x228)][_0x1a6f69(0x1cc)]('click',()=>{const _0x5d8e61=_0x1a6f69;this[_0x5d8e61(0x260)]=!this['isHighlightMode'],this[_0x5d8e61(0x228)][_0x5d8e61(0x1ef)][_0x5d8e61(0x23a)](_0x5d8e61(0x22f),this[_0x5d8e61(0x260)]),!this['isHighlightMode']&&(this[_0x5d8e61(0x1f6)](),this[_0x5d8e61(0x236)]()),console[_0x5d8e61(0x1fc)](_0x5d8e61(0x263),this[_0x5d8e61(0x260)]);}),this[_0x1a6f69(0x211)][_0x1a6f69(0x1cc)](_0x1a6f69(0x233),_0x489c64=>{const _0x483814=_0x1a6f69;if(!this[_0x483814(0x260)])return;const _0x3f15fe=window[_0x483814(0x26c)]();if(_0x3f15fe[_0x483814(0x243)]>0x0&&_0x3f15fe['toString']()['trim']()){this[_0x483814(0x1f6)](),this[_0x483814(0x1cd)]=_0x3f15fe[_0x483814(0x230)](0x0),this[_0x483814(0x256)](this[_0x483814(0x1cd)]);try{this[_0x483814(0x241)](this[_0x483814(0x1cd)]);}catch(_0x273ec3){console['error']('Highlight\x20error:',_0x273ec3);return;}const _0x4dd286=this[_0x483814(0x1cd)][_0x483814(0x24c)]();this[_0x483814(0x234)]['style'][_0x483814(0x21d)]=_0x4dd286[_0x483814(0x21d)]+window[_0x483814(0x1d8)]-0x28+'px',this['highlightMenu']['style'][_0x483814(0x237)]=_0x4dd286[_0x483814(0x237)]+window['scrollX']+'px',this[_0x483814(0x234)][_0x483814(0x1ef)][_0x483814(0x1f1)](_0x483814(0x26d)),this[_0x483814(0x1e6)][_0x483814(0x1ef)]['toggle']('hidden',!this[_0x483814(0x213)]()),console['log']('Menu\x20shown,\x20Summarize\x20hidden:',this[_0x483814(0x1e6)][_0x483814(0x1ef)]['contains']('hidden'));}}),this[_0x1a6f69(0x257)]['addEventListener'](_0x1a6f69(0x267),()=>{const _0x5f2e2c=_0x1a6f69;console[_0x5f2e2c(0x1fc)]('Explain\x20clicked,\x20opening\x20sidebar'),this[_0x5f2e2c(0x20d)]('explain');}),this[_0x1a6f69(0x209)][_0x1a6f69(0x1cc)]('click',()=>{const _0x2ef872=_0x1a6f69;console['log']('Elaborate\x20clicked,\x20opening\x20sidebar'),this[_0x2ef872(0x20d)](_0x2ef872(0x23d));}),this['summarizeBtn'][_0x1a6f69(0x1cc)]('click',()=>{const _0x4842e9=_0x1a6f69;console['log']('Summarize\x20clicked,\x20opening\x20sidebar'),this[_0x4842e9(0x20d)](_0x4842e9(0x20a));}),document[_0x1a6f69(0x1cc)](_0x1a6f69(0x267),_0x2e4e76=>{const _0x2cfcd1=_0x1a6f69,_0x22d856=_0x2e4e76['composedPath']()[_0x2cfcd1(0x244)](this[_0x2cfcd1(0x1d2)]),_0x47b5c1=this[_0x2cfcd1(0x211)]['contains'](_0x2e4e76[_0x2cfcd1(0x265)]);this[_0x2cfcd1(0x1cf)][_0x2cfcd1(0x1ef)][_0x2cfcd1(0x1ce)](_0x2cfcd1(0x268))&&!_0x22d856&&_0x2e4e76[_0x2cfcd1(0x265)]!==this['learnMoreBtn']&&_0x2e4e76[_0x2cfcd1(0x265)]!==this[_0x2cfcd1(0x209)]&&_0x2e4e76['target']!==this[_0x2cfcd1(0x1e6)]&&this[_0x2cfcd1(0x25b)](),this[_0x2cfcd1(0x260)]&&!_0x47b5c1&&!_0x22d856&&_0x2e4e76[_0x2cfcd1(0x265)]!==this[_0x2cfcd1(0x257)]&&_0x2e4e76['target']!==this['elaborateBtn']&&_0x2e4e76[_0x2cfcd1(0x265)]!==this[_0x2cfcd1(0x1e6)]&&(this[_0x2cfcd1(0x1f6)](),this[_0x2cfcd1(0x236)]());}),document[_0x1a6f69(0x1cc)]('keydown',_0x30aa14=>{const _0x3b2fb3=_0x1a6f69;if(_0x30aa14[_0x3b2fb3(0x23b)]===_0x3b2fb3(0x25e)){console[_0x3b2fb3(0x1fc)](_0x3b2fb3(0x1df),this[_0x3b2fb3(0x1cf)][_0x3b2fb3(0x1ef)][_0x3b2fb3(0x1ce)]('open'),_0x3b2fb3(0x266),!!this[_0x3b2fb3(0x1cd)],'highlight\x20mode:',this[_0x3b2fb3(0x260)]);if(this[_0x3b2fb3(0x1cf)][_0x3b2fb3(0x1ef)][_0x3b2fb3(0x1ce)](_0x3b2fb3(0x268)))this[_0x3b2fb3(0x25b)]();else{if(this['selectionRange'])this[_0x3b2fb3(0x1f6)](),this[_0x3b2fb3(0x236)]();else this[_0x3b2fb3(0x260)]&&(this['isHighlightMode']=![],this[_0x3b2fb3(0x228)][_0x3b2fb3(0x1ef)][_0x3b2fb3(0x1f1)](_0x3b2fb3(0x22f)));}console[_0x3b2fb3(0x1fc)](_0x3b2fb3(0x203),this['highlightMenu'][_0x3b2fb3(0x1ef)]['contains'](_0x3b2fb3(0x26d)),_0x3b2fb3(0x269),this[_0x3b2fb3(0x260)]);}});}async[_0x7f1125(0x20d)](_0x4e38e3){const _0x5dd4e5=_0x7f1125;if(!this[_0x5dd4e5(0x1cd)]){this[_0x5dd4e5(0x250)][_0x5dd4e5(0x1fb)]='No\x20text\x20selected.',this['sidePanel'][_0x5dd4e5(0x1ef)][_0x5dd4e5(0x25c)]('open'),console[_0x5dd4e5(0x1fc)](_0x5dd4e5(0x249),this['sidePanel'][_0x5dd4e5(0x1ef)]['toString']()),this['hideMenu']();return;}const _0x21fd4e=this[_0x5dd4e5(0x1cd)]['toString'](),_0x2c761f=this[_0x5dd4e5(0x1ed)]();this['explanationContent'][_0x5dd4e5(0x1ee)]='<div\x20class=\x22highlighter-spinner-wrapper\x22><div\x20class=\x22highlighter-spinner\x22></div></div>',this['sidePanel'][_0x5dd4e5(0x1ef)]['add'](_0x5dd4e5(0x268)),console[_0x5dd4e5(0x1fc)](_0x5dd4e5(0x264),this[_0x5dd4e5(0x1cf)][_0x5dd4e5(0x1ef)][_0x5dd4e5(0x201)](),_0x5dd4e5(0x205),getComputedStyle(this[_0x5dd4e5(0x1cf)])[_0x5dd4e5(0x1f2)],_0x5dd4e5(0x202),this['options'][_0x5dd4e5(0x24d)]);try{const _0x5a3c9c=await fetch(this[_0x5dd4e5(0x25a)][_0x5dd4e5(0x24d)]+'/'+_0x4e38e3,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON['stringify']({'highlighted_text':_0x21fd4e,'context':_0x2c761f})});console['log'](_0x5dd4e5(0x239),_0x5a3c9c[_0x5dd4e5(0x1e5)],_0x5dd4e5(0x1d3),_0x4e38e3);if(!_0x5a3c9c['ok'])throw new Error(_0x5dd4e5(0x20b)+_0x5a3c9c[_0x5dd4e5(0x1e5)]);const _0x166e84=await _0x5a3c9c[_0x5dd4e5(0x22b)]();let _0x48b3a3=_0x166e84[_0x5dd4e5(0x210)],_0x15652e;if(typeof marked!==_0x5dd4e5(0x219)&&typeof marked[_0x5dd4e5(0x1eb)]===_0x5dd4e5(0x1d1)){console['log']('Marked\x20library\x20available,\x20parsing\x20Markdown');try{_0x15652e=marked[_0x5dd4e5(0x1eb)](_0x48b3a3),console['log'](_0x5dd4e5(0x23e),_0x48b3a3,_0x5dd4e5(0x1f0),_0x15652e);}catch(_0x5acc77){console['error'](_0x5dd4e5(0x1f4),_0x5acc77),_0x15652e=_0x5dd4e5(0x215)+_0x48b3a3+_0x5dd4e5(0x245);}}else console[_0x5dd4e5(0x1f5)](_0x5dd4e5(0x1d5)),_0x15652e=_0x5dd4e5(0x1e3)+_0x48b3a3+_0x5dd4e5(0x245);if(_0x4e38e3===_0x5dd4e5(0x222)||_0x4e38e3===_0x5dd4e5(0x23d)){const _0x279b70=_0x21fd4e[_0x5dd4e5(0x212)](/[.*+?^${}()|[\]\\]/g,_0x5dd4e5(0x246)),_0x4ecc34=new RegExp('\x5cb'+_0x279b70+'\x5cb','gi');_0x15652e=_0x15652e[_0x5dd4e5(0x212)](_0x4ecc34,_0x5dd4e5(0x217)),console['log'](_0x5dd4e5(0x1d6),_0x21fd4e,_0x5dd4e5(0x218)+_0x4e38e3);}this['explanationContent'][_0x5dd4e5(0x1ee)]=_0x15652e,this[_0x5dd4e5(0x236)]();}catch(_0x4549bb){console[_0x5dd4e5(0x1f5)](_0x5dd4e5(0x24b)+_0x4e38e3+_0x5dd4e5(0x214),_0x4549bb),this[_0x5dd4e5(0x250)][_0x5dd4e5(0x1fb)]='Failed\x20to\x20load\x20'+_0x4e38e3+'.',this['hideMenu']();}}[_0x7f1125(0x1f6)](){const _0x12ff23=_0x7f1125;this['content'][_0x12ff23(0x24f)](_0x12ff23(0x20e))['forEach'](_0x55bee8=>{const _0x29f466=_0x12ff23,_0x5bb610=_0x55bee8[_0x29f466(0x1f3)];_0x5bb610[_0x29f466(0x21e)](document[_0x29f466(0x1fa)](_0x55bee8[_0x29f466(0x1fb)]),_0x55bee8),_0x5bb610[_0x29f466(0x255)]();}),this[_0x12ff23(0x1cd)]=null;}[_0x7f1125(0x236)](){const _0x72d880=_0x7f1125;this[_0x72d880(0x234)]['classList'][_0x72d880(0x25c)](_0x72d880(0x26d)),this[_0x72d880(0x1e6)]['classList'][_0x72d880(0x25c)](_0x72d880(0x26d));}['isParagraphSelected'](){const _0x52a26e=_0x7f1125;if(!this[_0x52a26e(0x1cd)])return![];const _0x434f4e=this['selectionRange'][_0x52a26e(0x1de)][_0x52a26e(0x262)]===Node[_0x52a26e(0x1dc)]?this['selectionRange'][_0x52a26e(0x1de)][_0x52a26e(0x224)]:this[_0x52a26e(0x1cd)][_0x52a26e(0x1de)],_0x500a61=this[_0x52a26e(0x1cd)]['endContainer'][_0x52a26e(0x262)]===Node[_0x52a26e(0x1dc)]?this[_0x52a26e(0x1cd)]['endContainer'][_0x52a26e(0x224)]:this[_0x52a26e(0x1cd)][_0x52a26e(0x1fd)];return!!(_0x434f4e[_0x52a26e(0x1ff)]('p')||_0x500a61[_0x52a26e(0x1ff)]('p'));}[_0x7f1125(0x1ed)](){const _0x2b3d98=_0x7f1125;if(!this['selectionRange'])return this[_0x2b3d98(0x211)][_0x2b3d98(0x1fb)];const _0x5bafa6=this['selectionRange'][_0x2b3d98(0x1de)][_0x2b3d98(0x262)]===Node[_0x2b3d98(0x1dc)]?this['selectionRange'][_0x2b3d98(0x1de)][_0x2b3d98(0x224)]:this[_0x2b3d98(0x1cd)]['startContainer'],_0x3aeb17=this[_0x2b3d98(0x1cd)]['endContainer'][_0x2b3d98(0x262)]===Node[_0x2b3d98(0x1dc)]?this[_0x2b3d98(0x1cd)][_0x2b3d98(0x1fd)][_0x2b3d98(0x224)]:this[_0x2b3d98(0x1cd)]['endContainer'],_0x196d83=_0x5bafa6[_0x2b3d98(0x1ff)]('p'),_0x473bc5=_0x3aeb17[_0x2b3d98(0x1ff)]('p');if(!_0x196d83&&!_0x473bc5)return this['content']['textContent'];if(_0x196d83===_0x473bc5&&_0x196d83)return _0x196d83[_0x2b3d98(0x1fb)];const _0x4ec6bc=[];let _0x43493b=_0x196d83||_0x5bafa6;const _0x24ac49=new Set();while(_0x43493b&&!_0x24ac49[_0x2b3d98(0x252)](_0x43493b)&&_0x43493b!==_0x473bc5?.[_0x2b3d98(0x22e)]){if(_0x43493b['nodeName']==='P')_0x4ec6bc[_0x2b3d98(0x22a)](_0x43493b[_0x2b3d98(0x1fb)]);_0x24ac49[_0x2b3d98(0x25c)](_0x43493b),_0x43493b=_0x43493b[_0x2b3d98(0x220)];}return _0x473bc5&&_0x473bc5!==_0x196d83&&!_0x24ac49[_0x2b3d98(0x252)](_0x473bc5)&&_0x4ec6bc[_0x2b3d98(0x22a)](_0x473bc5[_0x2b3d98(0x1fb)]),_0x4ec6bc[_0x2b3d98(0x254)]('\x0a')[_0x2b3d98(0x1db)]()||this['content']['textContent'];}[_0x7f1125(0x25b)](){const _0x5265c5=_0x7f1125;this['sidePanel'][_0x5265c5(0x1ef)][_0x5265c5(0x1f1)](_0x5265c5(0x268)),this[_0x5265c5(0x250)][_0x5265c5(0x1fb)]='',console[_0x5265c5(0x1fc)](_0x5265c5(0x221),this[_0x5265c5(0x1cf)][_0x5265c5(0x1ef)]['toString']());}[_0x7f1125(0x256)](_0x5c60bf){const _0x2dc4a3=_0x7f1125,_0x1f53a1=_0x5c60bf[_0x2dc4a3(0x1de)],_0x5d6d39=_0x5c60bf[_0x2dc4a3(0x1fd)];let _0x4f3774=_0x5c60bf[_0x2dc4a3(0x235)],_0x147359=_0x5c60bf[_0x2dc4a3(0x1d4)];if(_0x1f53a1[_0x2dc4a3(0x262)]===Node['TEXT_NODE']){const _0x31092e=_0x1f53a1[_0x2dc4a3(0x1fb)];let _0x5e2927=_0x4f3774;while(_0x5e2927>0x0&&!/\s/[_0x2dc4a3(0x1e9)](_0x31092e[_0x5e2927-0x1]))_0x5e2927--;_0x5c60bf['setStart'](_0x1f53a1,_0x5e2927);}if(_0x5d6d39[_0x2dc4a3(0x262)]===Node[_0x2dc4a3(0x1dc)]){const _0x92a574=_0x5d6d39[_0x2dc4a3(0x1fb)];let _0xb82fd=_0x147359;while(_0xb82fd<_0x92a574['length']&&!/\s/[_0x2dc4a3(0x1e9)](_0x92a574[_0xb82fd]))_0xb82fd++;while(_0xb82fd>0x0&&/[,.;!?:"'()]/[_0x2dc4a3(0x1e9)](_0x92a574[_0xb82fd-0x1]))_0xb82fd--;_0x5c60bf[_0x2dc4a3(0x251)](_0x5d6d39,_0xb82fd);}console[_0x2dc4a3(0x1fc)](_0x2dc4a3(0x1d9),_0x5c60bf['toString']());}['applyHighlight'](_0x4ea02e){const _0x212613=_0x7f1125,_0x1cd76c=[],_0xae2b51=_0x4ea02e[_0x212613(0x1de)],_0x5752d=_0x4ea02e['endContainer'],_0x293887=_0x4ea02e['startOffset'],_0x21b28d=_0x4ea02e['endOffset'];if(_0xae2b51===_0x5752d&&_0xae2b51['nodeType']===Node[_0x212613(0x1dc)]){const _0x435cb5=document[_0x212613(0x208)](_0x212613(0x1dd));_0x435cb5[_0x212613(0x1e1)]=_0x212613(0x1f7);const _0x51af1c=document[_0x212613(0x261)]();_0x51af1c[_0x212613(0x238)](_0xae2b51,_0x293887),_0x51af1c['setEnd'](_0x5752d,_0x21b28d),_0x51af1c[_0x212613(0x23c)](_0x435cb5),_0x1cd76c[_0x212613(0x22a)](_0x435cb5);}else{const _0x1fd6a4=[];let _0x362c1c=_0xae2b51;const _0xd63501=_0x4ea02e[_0x212613(0x1e2)];while(_0x362c1c&&_0x362c1c!==_0xd63501[_0x212613(0x22e)]){_0x362c1c[_0x212613(0x262)]===Node[_0x212613(0x1dc)]&&_0x4ea02e[_0x212613(0x248)](_0x362c1c)&&_0x1fd6a4['push'](_0x362c1c),_0x362c1c=this[_0x212613(0x20f)](_0x362c1c,_0xd63501);}_0x1fd6a4['forEach'](_0x5d5a51=>{const _0x266439=_0x212613,_0x1976a4=document['createRange']();_0x1976a4['selectNodeContents'](_0x5d5a51);if(_0x5d5a51===_0xae2b51)_0x1976a4[_0x266439(0x238)](_0x5d5a51,_0x293887);if(_0x5d5a51===_0x5752d)_0x1976a4['setEnd'](_0x5d5a51,_0x21b28d);if(_0x1976a4[_0x266439(0x201)]()['trim']()){const _0x2b041f=document[_0x266439(0x208)]('span');_0x2b041f[_0x266439(0x1e1)]=_0x266439(0x1f7),_0x1976a4[_0x266439(0x23c)](_0x2b041f),_0x1cd76c['push'](_0x2b041f);}});}if(_0x1cd76c[_0x212613(0x24e)]){const _0x3c215c=document['createRange']();_0x3c215c[_0x212613(0x21b)](_0x1cd76c[0x0]),_0x3c215c['setEndAfter'](_0x1cd76c[_0x1cd76c[_0x212613(0x24e)]-0x1]),this['selectionRange']=_0x3c215c;}}[_0x7f1125(0x20f)](_0x5df5d3,_0x3715f3){const _0x1b849a=_0x7f1125;if(_0x5df5d3['firstChild'])return _0x5df5d3[_0x1b849a(0x227)];while(_0x5df5d3&&!_0x5df5d3[_0x1b849a(0x22e)]&&_0x5df5d3!==_0x3715f3){_0x5df5d3=_0x5df5d3[_0x1b849a(0x1f3)];}return _0x5df5d3&&_0x5df5d3!==_0x3715f3?_0x5df5d3[_0x1b849a(0x22e)]:null;}}window[_0x7f1125(0x22c)]={'init':_0x3f9ce4=>new _0x386371(_0x3f9ce4)};}()));