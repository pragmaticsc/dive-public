function a0_0x1ea7(_0x2def7b,_0x22481a){const _0x598aa3=a0_0x598a();return a0_0x1ea7=function(_0x1ea77b,_0x531274){_0x1ea77b=_0x1ea77b-0x1df;let _0x551c37=_0x598aa3[_0x1ea77b];return _0x551c37;},a0_0x1ea7(_0x2def7b,_0x22481a);}function a0_0x598a(){const _0x43a2a1=['div','2ZJYljt','Trimmed\x20selection:','Summarize\x20clicked,\x20opening\x20sidebar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x20','parentNode','<strong>$&</strong>','buttonTop:','className','error','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20width=\x2224\x22\x20height=\x2224\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<path\x20d=\x22M4\x2018h16l-2-10H6l-2\x2010zm10-12h-4V4h4v2zm-2\x2012.5a1.5\x201.5\x200\x201\x201\x200-3\x201.5\x201.5\x200\x200\x201\x200\x203z\x22/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20','Highlight\x20error:','nextSibling','textContent','Bolding\x20term:','7074jHUvxb','result','target','attachShadow','Explain\x20clicked,\x20opening\x20sidebar','undefined','highlighter-button','elaborate','open','<p>Markdown\x20parsing\x20failed;\x20showing\x20raw\x20text:</p><pre>','appendChild','buttonLeft','Marked\x20library\x20available,\x20parsing\x20Markdown','</pre>','top',';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2030;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x201px\x203px\x201px\x20rgba(0,\x200,\x200,\x200.06);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20outline:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-button.active\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#fef08a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-button\x20svg\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fill:\x20#333333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-menu\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#1f2937;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x206px\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20row;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-menu\x20button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x204px\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-menu\x20button:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#374151;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.hidden\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-side-panel\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20320px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x20-2px\x200\x208px\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(100%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease-in-out;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2099999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-side-panel.open\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-spinner-wrapper\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-spinner\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x206px\x20solid\x20#f3f3f3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x206px\x20solid\x20#3498db;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20spin\x201s\x20linear\x20infinite;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20@keyframes\x20spin\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x20transform:\x20rotate(0deg);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x20transform:\x20rotate(360deg);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','API\x20response\x20status:','startOffset','explanationContent','elaborateBtn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighterExplanationContent\x22></div>\x0a\x20\x20\x20\x20\x20\x20','span.highlight','<p>Markdown\x20parsing\x20failed\x20(library\x20not\x20loaded);\x20showing\x20raw\x20text:</p><pre>','closeSidePanel','Sidebar\x20opened,\x20classList:','text\x20highlighted:','trim','setStartBefore','replace','Elaborate\x20clicked,\x20opening\x20sidebar','shadowRoot','POST','in\x20','applyHighlight','\x20error:','3332892dgpyUj','expandRangeToWords','endContainer','createShadowDOM','stringify','#highlighterLearnMoreBtn','clearHighlights','forEach','Failed\x20to\x20load\x20','active','fetchApi','Marked\x20library\x20not\x20available','#highlighterSummarizeBtn','toString','Raw\x20Markdown:','explain','scrollX','Fetch\x20','closest','hidden','Escape','scrollY','key','contains','1609617sLNVXG','createRange','isHighlightMode','add','replaceChild','firstChild','classList','getBoundingClientRect','summarize','test','rangeCount','application/json','learnMoreBtn','336906cIMoeI','json','function','Markdown\x20parsing\x20error:','for\x20endpoint:','left','hideMenu','log','getSelection','apiEndpoint','init','API\x20endpoint:','span','button','Sidebar\x20closed,\x20classList:','highlightBtn','highlighterSidePanel','createTextNode','addEventListener','content','querySelector','highlight','click','highlighter-menu\x20hidden','innerHTML',';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x20','selectNodeContents','getSelectionContext','style','setupEventListeners','Highlighter\x20initialized,\x20menu\x20hidden:','sidePanel','selectionRange','nodeName','nextElementSibling','highlighterMenu','summarizeBtn','Menu\x20shown,\x20Summarize\x20hidden:','parse','<div\x20class=\x22highlighter-spinner-wrapper\x22><div\x20class=\x22highlighter-spinner\x22></div></div>','includes','length','Highlighter','startContainer','https://faas-nyc1-2ef2e6cc.doserverless.co/api/v1/web/fn-a25b91e2-eb0e-4b0e-a7d2-9c54519d6c5e/default/highlighter','TEXT_NODE','10695180yqsYBT','push','has','2670000IcCDQD','setStart','options','\x5c$&','highlightMenu','buttonTop','remove','isParagraphSelected','1000piTHek','endOffset','50913ZuqeAe','Escape\x20pressed,\x20sidebar\x20open:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20span.highlight\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#fef08a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','mouseup','setEnd','nextNode','1400KPuAlw','createElement','parentElement','keydown','surroundContents','nodeType','toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighterLearnMoreBtn\x22>Explain</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighterElaborateBtn\x22>Elaborate</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighterSummarizeBtn\x22\x20class=\x22hidden\x22>Summarize</button>\x0a\x20\x20\x20\x20\x20\x20','highlight\x20mode:','contentSelector'];a0_0x598a=function(){return _0x43a2a1;};return a0_0x598a();}(function(_0x5e5b34,_0x24e640){const _0x1d33aa=a0_0x1ea7,_0x3867bb=_0x5e5b34();while(!![]){try{const _0x2a8cf8=parseInt(_0x1d33aa(0x260))/0x1+parseInt(_0x1d33aa(0x20a))/0x2*(-parseInt(_0x1d33aa(0x253))/0x3)+-parseInt(_0x1d33aa(0x23b))/0x4+-parseInt(_0x1d33aa(0x1ef))/0x5+parseInt(_0x1d33aa(0x218))/0x6*(parseInt(_0x1d33aa(0x1ff))/0x7)+parseInt(_0x1d33aa(0x1f7))/0x8*(parseInt(_0x1d33aa(0x1f9))/0x9)+parseInt(_0x1d33aa(0x1ec))/0xa;if(_0x2a8cf8===_0x24e640)break;else _0x3867bb['push'](_0x3867bb['shift']());}catch(_0x5864e3){_0x3867bb['push'](_0x3867bb['shift']());}}}(a0_0x598a,0x6cc93),(function(){const _0x4c6b2e=a0_0x1ea7;class _0x6ccb20{constructor(_0x5085b1={}){const _0x20709a=a0_0x1ea7;this['options']={'apiEndpoint':_0x5085b1[_0x20709a(0x269)]||_0x20709a(0x1ea),'contentSelector':_0x5085b1[_0x20709a(0x208)]||'[data-highlighter=\x22content\x22]','buttonTop':_0x5085b1[_0x20709a(0x1f4)]||'220px','buttonLeft':_0x5085b1['buttonLeft']||'30px'},this[_0x20709a(0x255)]=![],this[_0x20709a(0x280)]=null,this[_0x20709a(0x236)]=null,this[_0x20709a(0x26a)]();}[_0x4c6b2e(0x26a)](){const _0x43efee=_0x4c6b2e;this[_0x43efee(0x23e)](),this[_0x43efee(0x27d)](),console[_0x43efee(0x267)](_0x43efee(0x27e),this[_0x43efee(0x1f3)]['classList'][_0x43efee(0x252)](_0x43efee(0x24e)),'API\x20endpoint:',this[_0x43efee(0x1f1)][_0x43efee(0x269)],_0x43efee(0x210),this[_0x43efee(0x1f1)][_0x43efee(0x1f4)],'buttonLeft:',this[_0x43efee(0x1f1)]['buttonLeft']);}['createShadowDOM'](){const _0x51780c=_0x4c6b2e,_0x49f5af=document['createElement'](_0x51780c(0x209));_0x49f5af['id']='highlighter-root',document['body']['appendChild'](_0x49f5af),this['shadowRoot']=_0x49f5af[_0x51780c(0x21b)]({'mode':_0x51780c(0x220)});const _0x4e78e4=document[_0x51780c(0x200)](_0x51780c(0x27c));_0x4e78e4[_0x51780c(0x216)]=_0x51780c(0x20d)+this[_0x51780c(0x1f1)][_0x51780c(0x1f4)]+_0x51780c(0x279)+this[_0x51780c(0x1f1)][_0x51780c(0x223)]+_0x51780c(0x227),this['shadowRoot'][_0x51780c(0x222)](_0x4e78e4);const _0x502f0c=document[_0x51780c(0x200)](_0x51780c(0x27c));_0x502f0c['textContent']=_0x51780c(0x1fb),document['head'][_0x51780c(0x222)](_0x502f0c),this['highlightBtn']=document[_0x51780c(0x200)](_0x51780c(0x26d)),this[_0x51780c(0x26f)]['id']='highlighterBtn',this[_0x51780c(0x26f)]['className']=_0x51780c(0x21e),this[_0x51780c(0x26f)][_0x51780c(0x278)]=_0x51780c(0x213),this[_0x51780c(0x236)][_0x51780c(0x222)](this['highlightBtn']),this['highlightMenu']=document[_0x51780c(0x200)](_0x51780c(0x209)),this[_0x51780c(0x1f3)]['id']=_0x51780c(0x1e1),this[_0x51780c(0x1f3)][_0x51780c(0x211)]=_0x51780c(0x277),this[_0x51780c(0x1f3)][_0x51780c(0x278)]=_0x51780c(0x206),this['shadowRoot'][_0x51780c(0x222)](this[_0x51780c(0x1f3)]),this[_0x51780c(0x27f)]=document[_0x51780c(0x200)](_0x51780c(0x209)),this[_0x51780c(0x27f)]['id']=_0x51780c(0x270),this[_0x51780c(0x27f)][_0x51780c(0x211)]='highlighter-side-panel',this[_0x51780c(0x27f)][_0x51780c(0x278)]=_0x51780c(0x22c),this[_0x51780c(0x236)][_0x51780c(0x222)](this['sidePanel']),this[_0x51780c(0x273)]=document[_0x51780c(0x274)](this['options'][_0x51780c(0x208)])||document['body'],this['learnMoreBtn']=this[_0x51780c(0x236)][_0x51780c(0x274)](_0x51780c(0x240)),this['elaborateBtn']=this['shadowRoot'][_0x51780c(0x274)]('#highlighterElaborateBtn'),this[_0x51780c(0x1e2)]=this['shadowRoot'][_0x51780c(0x274)](_0x51780c(0x247)),this[_0x51780c(0x22a)]=this[_0x51780c(0x236)]['querySelector']('#highlighterExplanationContent');}[_0x4c6b2e(0x27d)](){const _0x460dcf=_0x4c6b2e;this['highlightBtn'][_0x460dcf(0x272)](_0x460dcf(0x276),()=>{const _0x39ef0c=_0x460dcf;this[_0x39ef0c(0x255)]=!this['isHighlightMode'],this[_0x39ef0c(0x26f)][_0x39ef0c(0x259)][_0x39ef0c(0x205)](_0x39ef0c(0x244),this['isHighlightMode']),!this[_0x39ef0c(0x255)]&&(this[_0x39ef0c(0x241)](),this['hideMenu']()),console[_0x39ef0c(0x267)]('Highlight\x20mode:',this[_0x39ef0c(0x255)]);}),this[_0x460dcf(0x273)][_0x460dcf(0x272)](_0x460dcf(0x1fc),_0x1ff223=>{const _0x4602ee=_0x460dcf;if(!this[_0x4602ee(0x255)])return;const _0x3d0c8d=window[_0x4602ee(0x268)]();if(_0x3d0c8d[_0x4602ee(0x25d)]>0x0&&_0x3d0c8d[_0x4602ee(0x248)]()[_0x4602ee(0x232)]()){this[_0x4602ee(0x241)](),this['selectionRange']=_0x3d0c8d['getRangeAt'](0x0),this[_0x4602ee(0x23c)](this[_0x4602ee(0x280)]);try{this['applyHighlight'](this[_0x4602ee(0x280)]);}catch(_0x2292a6){console[_0x4602ee(0x212)](_0x4602ee(0x214),_0x2292a6);return;}const _0x205713=this[_0x4602ee(0x280)][_0x4602ee(0x25a)]();this['highlightMenu'][_0x4602ee(0x27c)][_0x4602ee(0x226)]=_0x205713[_0x4602ee(0x226)]+window[_0x4602ee(0x250)]-0x28+'px',this[_0x4602ee(0x1f3)][_0x4602ee(0x27c)][_0x4602ee(0x265)]=_0x205713[_0x4602ee(0x265)]+window[_0x4602ee(0x24b)]+'px',this[_0x4602ee(0x1f3)][_0x4602ee(0x259)][_0x4602ee(0x1f5)](_0x4602ee(0x24e)),this[_0x4602ee(0x1e2)][_0x4602ee(0x259)][_0x4602ee(0x205)]('hidden',!this[_0x4602ee(0x1f6)]()),console[_0x4602ee(0x267)](_0x4602ee(0x1e3),this[_0x4602ee(0x1e2)][_0x4602ee(0x259)]['contains'](_0x4602ee(0x24e)));}}),this[_0x460dcf(0x25f)]['addEventListener'](_0x460dcf(0x276),()=>{const _0x39162b=_0x460dcf;console[_0x39162b(0x267)](_0x39162b(0x21c)),this[_0x39162b(0x245)](_0x39162b(0x24a));}),this[_0x460dcf(0x22b)][_0x460dcf(0x272)]('click',()=>{const _0x2bae61=_0x460dcf;console['log'](_0x2bae61(0x235)),this['fetchApi']('elaborate');}),this[_0x460dcf(0x1e2)][_0x460dcf(0x272)](_0x460dcf(0x276),()=>{const _0x3baf74=_0x460dcf;console[_0x3baf74(0x267)](_0x3baf74(0x20c)),this[_0x3baf74(0x245)](_0x3baf74(0x25b));}),document[_0x460dcf(0x272)](_0x460dcf(0x276),_0x758549=>{const _0x4e4e1d=_0x460dcf,_0x3286e6=_0x758549['composedPath']()[_0x4e4e1d(0x1e6)](this['shadowRoot']),_0x574347=this['content'][_0x4e4e1d(0x252)](_0x758549[_0x4e4e1d(0x21a)]);this['sidePanel'][_0x4e4e1d(0x259)][_0x4e4e1d(0x252)](_0x4e4e1d(0x220))&&!_0x3286e6&&_0x758549[_0x4e4e1d(0x21a)]!==this['learnMoreBtn']&&_0x758549['target']!==this[_0x4e4e1d(0x22b)]&&_0x758549['target']!==this[_0x4e4e1d(0x1e2)]&&this[_0x4e4e1d(0x22f)](),this[_0x4e4e1d(0x255)]&&!_0x574347&&!_0x3286e6&&_0x758549[_0x4e4e1d(0x21a)]!==this[_0x4e4e1d(0x25f)]&&_0x758549['target']!==this[_0x4e4e1d(0x22b)]&&_0x758549[_0x4e4e1d(0x21a)]!==this['summarizeBtn']&&(this[_0x4e4e1d(0x241)](),this[_0x4e4e1d(0x266)]());}),document[_0x460dcf(0x272)](_0x460dcf(0x202),_0x1dd0e7=>{const _0x727636=_0x460dcf;if(_0x1dd0e7[_0x727636(0x251)]===_0x727636(0x24f)){console[_0x727636(0x267)](_0x727636(0x1fa),this[_0x727636(0x27f)][_0x727636(0x259)][_0x727636(0x252)](_0x727636(0x220)),_0x727636(0x231),!!this['selectionRange'],_0x727636(0x207),this['isHighlightMode']);if(this['sidePanel'][_0x727636(0x259)][_0x727636(0x252)]('open'))this[_0x727636(0x22f)]();else{if(this[_0x727636(0x280)])this[_0x727636(0x241)](),this['hideMenu']();else this['isHighlightMode']&&(this['isHighlightMode']=![],this['highlightBtn'][_0x727636(0x259)][_0x727636(0x1f5)]('active'));}console[_0x727636(0x267)]('After\x20Escape,\x20menu\x20hidden:',this['highlightMenu'][_0x727636(0x259)][_0x727636(0x252)](_0x727636(0x24e)),'highlight\x20mode:',this[_0x727636(0x255)]);}});}async[_0x4c6b2e(0x245)](_0x189775){const _0x3eef15=_0x4c6b2e;if(!this[_0x3eef15(0x280)]){this[_0x3eef15(0x22a)][_0x3eef15(0x216)]='No\x20text\x20selected.',this['sidePanel'][_0x3eef15(0x259)][_0x3eef15(0x256)](_0x3eef15(0x220)),console[_0x3eef15(0x267)]('Sidebar\x20opened\x20for\x20no\x20selection,\x20classList:',this[_0x3eef15(0x27f)][_0x3eef15(0x259)][_0x3eef15(0x248)]()),this[_0x3eef15(0x266)]();return;}const _0x5ce8da=this[_0x3eef15(0x280)][_0x3eef15(0x248)](),_0x209a0f=this[_0x3eef15(0x27b)]();this[_0x3eef15(0x22a)][_0x3eef15(0x278)]=_0x3eef15(0x1e5),this[_0x3eef15(0x27f)][_0x3eef15(0x259)][_0x3eef15(0x256)](_0x3eef15(0x220)),console['log'](_0x3eef15(0x230),this['sidePanel'][_0x3eef15(0x259)]['toString'](),'transform:',getComputedStyle(this['sidePanel'])['transform'],_0x3eef15(0x26b),this['options']['apiEndpoint']);try{const _0x1bb69f=await fetch(this[_0x3eef15(0x1f1)][_0x3eef15(0x269)]+'/'+_0x189775,{'method':_0x3eef15(0x237),'headers':{'Content-Type':_0x3eef15(0x25e)},'body':JSON[_0x3eef15(0x23f)]({'highlighted_text':_0x5ce8da,'context':_0x209a0f})});console[_0x3eef15(0x267)](_0x3eef15(0x228),_0x1bb69f['status'],_0x3eef15(0x264),_0x189775);if(!_0x1bb69f['ok'])throw new Error('API\x20error:\x20'+_0x1bb69f['status']);const _0x46dc63=await _0x1bb69f[_0x3eef15(0x261)]();let _0x54755f=_0x46dc63[_0x3eef15(0x219)],_0x13d0c7;if(typeof marked!==_0x3eef15(0x21d)&&typeof marked[_0x3eef15(0x1e4)]===_0x3eef15(0x262)){console[_0x3eef15(0x267)](_0x3eef15(0x224));try{_0x13d0c7=marked[_0x3eef15(0x1e4)](_0x54755f),console['log'](_0x3eef15(0x249),_0x54755f,'Parsed\x20HTML:',_0x13d0c7);}catch(_0x54c945){console[_0x3eef15(0x212)](_0x3eef15(0x263),_0x54c945),_0x13d0c7=_0x3eef15(0x221)+_0x54755f+_0x3eef15(0x225);}}else console['error'](_0x3eef15(0x246)),_0x13d0c7=_0x3eef15(0x22e)+_0x54755f+_0x3eef15(0x225);if(_0x189775===_0x3eef15(0x24a)||_0x189775===_0x3eef15(0x21f)){const _0x18dcb2=_0x5ce8da[_0x3eef15(0x234)](/[.*+?^${}()|[\]\\]/g,_0x3eef15(0x1f2)),_0x15bf11=new RegExp('\x5cb'+_0x18dcb2+'\x5cb','gi');_0x13d0c7=_0x13d0c7['replace'](_0x15bf11,_0x3eef15(0x20f)),console['log'](_0x3eef15(0x217),_0x5ce8da,_0x3eef15(0x238)+_0x189775);}this[_0x3eef15(0x22a)]['innerHTML']=_0x13d0c7,this['hideMenu']();}catch(_0x20af68){console['error'](_0x3eef15(0x24c)+_0x189775+_0x3eef15(0x23a),_0x20af68),this[_0x3eef15(0x22a)][_0x3eef15(0x216)]=_0x3eef15(0x243)+_0x189775+'.',this[_0x3eef15(0x266)]();}}['clearHighlights'](){const _0x295358=_0x4c6b2e;this['content']['querySelectorAll'](_0x295358(0x22d))[_0x295358(0x242)](_0x1210a3=>{const _0x209fd0=_0x295358,_0x2bd645=_0x1210a3[_0x209fd0(0x20e)];_0x2bd645[_0x209fd0(0x257)](document[_0x209fd0(0x271)](_0x1210a3[_0x209fd0(0x216)]),_0x1210a3),_0x2bd645['normalize']();}),this[_0x295358(0x280)]=null;}[_0x4c6b2e(0x266)](){const _0x33fe4d=_0x4c6b2e;this['highlightMenu'][_0x33fe4d(0x259)][_0x33fe4d(0x256)](_0x33fe4d(0x24e)),this[_0x33fe4d(0x1e2)][_0x33fe4d(0x259)][_0x33fe4d(0x256)](_0x33fe4d(0x24e));}[_0x4c6b2e(0x1f6)](){const _0x4455fa=_0x4c6b2e;if(!this[_0x4455fa(0x280)])return![];const _0x325449=this[_0x4455fa(0x280)][_0x4455fa(0x1e9)][_0x4455fa(0x204)]===Node[_0x4455fa(0x1eb)]?this['selectionRange'][_0x4455fa(0x1e9)][_0x4455fa(0x201)]:this[_0x4455fa(0x280)][_0x4455fa(0x1e9)],_0xde652e=this[_0x4455fa(0x280)][_0x4455fa(0x23d)][_0x4455fa(0x204)]===Node[_0x4455fa(0x1eb)]?this[_0x4455fa(0x280)]['endContainer'][_0x4455fa(0x201)]:this[_0x4455fa(0x280)][_0x4455fa(0x23d)];return!!(_0x325449[_0x4455fa(0x24d)]('p')||_0xde652e[_0x4455fa(0x24d)]('p'));}[_0x4c6b2e(0x27b)](){const _0x360fe0=_0x4c6b2e;if(!this[_0x360fe0(0x280)])return this[_0x360fe0(0x273)][_0x360fe0(0x216)];const _0x23e135=this[_0x360fe0(0x280)]['startContainer'][_0x360fe0(0x204)]===Node[_0x360fe0(0x1eb)]?this['selectionRange']['startContainer'][_0x360fe0(0x201)]:this[_0x360fe0(0x280)][_0x360fe0(0x1e9)],_0x1d6dc5=this['selectionRange']['endContainer'][_0x360fe0(0x204)]===Node[_0x360fe0(0x1eb)]?this[_0x360fe0(0x280)][_0x360fe0(0x23d)][_0x360fe0(0x201)]:this['selectionRange']['endContainer'],_0x528d8f=_0x23e135[_0x360fe0(0x24d)]('p'),_0x24a546=_0x1d6dc5['closest']('p');if(!_0x528d8f&&!_0x24a546)return this[_0x360fe0(0x273)][_0x360fe0(0x216)];if(_0x528d8f===_0x24a546&&_0x528d8f)return _0x528d8f['textContent'];const _0x366540=[];let _0x1d2b07=_0x528d8f||_0x23e135;const _0x19eab9=new Set();while(_0x1d2b07&&!_0x19eab9[_0x360fe0(0x1ee)](_0x1d2b07)&&_0x1d2b07!==_0x24a546?.['nextSibling']){if(_0x1d2b07[_0x360fe0(0x1df)]==='P')_0x366540[_0x360fe0(0x1ed)](_0x1d2b07[_0x360fe0(0x216)]);_0x19eab9[_0x360fe0(0x256)](_0x1d2b07),_0x1d2b07=_0x1d2b07[_0x360fe0(0x1e0)];}return _0x24a546&&_0x24a546!==_0x528d8f&&!_0x19eab9['has'](_0x24a546)&&_0x366540[_0x360fe0(0x1ed)](_0x24a546['textContent']),_0x366540['join']('\x0a')[_0x360fe0(0x232)]()||this[_0x360fe0(0x273)]['textContent'];}[_0x4c6b2e(0x22f)](){const _0x450a8b=_0x4c6b2e;this['sidePanel']['classList']['remove'](_0x450a8b(0x220)),this['explanationContent']['textContent']='',console['log'](_0x450a8b(0x26e),this['sidePanel'][_0x450a8b(0x259)][_0x450a8b(0x248)]());}['expandRangeToWords'](_0x25c9ed){const _0x15447b=_0x4c6b2e,_0x179e3c=_0x25c9ed[_0x15447b(0x1e9)],_0x32e86a=_0x25c9ed[_0x15447b(0x23d)];let _0x247f04=_0x25c9ed['startOffset'],_0x1b7eee=_0x25c9ed[_0x15447b(0x1f8)];if(_0x179e3c[_0x15447b(0x204)]===Node['TEXT_NODE']){const _0xd8aa1f=_0x179e3c[_0x15447b(0x216)];let _0x2a0159=_0x247f04;while(_0x2a0159>0x0&&!/\s/[_0x15447b(0x25c)](_0xd8aa1f[_0x2a0159-0x1]))_0x2a0159--;_0x25c9ed[_0x15447b(0x1f0)](_0x179e3c,_0x2a0159);}if(_0x32e86a[_0x15447b(0x204)]===Node[_0x15447b(0x1eb)]){const _0x5e136b=_0x32e86a[_0x15447b(0x216)];let _0x3687a0=_0x1b7eee;while(_0x3687a0<_0x5e136b[_0x15447b(0x1e7)]&&!/\s/['test'](_0x5e136b[_0x3687a0]))_0x3687a0++;while(_0x3687a0>0x0&&/[,.;!?:"'()]/[_0x15447b(0x25c)](_0x5e136b[_0x3687a0-0x1]))_0x3687a0--;_0x25c9ed['setEnd'](_0x32e86a,_0x3687a0);}console['log'](_0x15447b(0x20b),_0x25c9ed['toString']());}[_0x4c6b2e(0x239)](_0x3634a7){const _0x35d6ff=_0x4c6b2e,_0x468b3e=[],_0xf3bafa=_0x3634a7[_0x35d6ff(0x1e9)],_0x2b0a81=_0x3634a7[_0x35d6ff(0x23d)],_0x31e8cf=_0x3634a7[_0x35d6ff(0x229)],_0x15e117=_0x3634a7['endOffset'];if(_0xf3bafa===_0x2b0a81&&_0xf3bafa[_0x35d6ff(0x204)]===Node[_0x35d6ff(0x1eb)]){const _0x4b1752=document[_0x35d6ff(0x200)](_0x35d6ff(0x26c));_0x4b1752['className']=_0x35d6ff(0x275);const _0x4678e1=document[_0x35d6ff(0x254)]();_0x4678e1['setStart'](_0xf3bafa,_0x31e8cf),_0x4678e1[_0x35d6ff(0x1fd)](_0x2b0a81,_0x15e117),_0x4678e1['surroundContents'](_0x4b1752),_0x468b3e[_0x35d6ff(0x1ed)](_0x4b1752);}else{const _0x13014c=[];let _0x3703b0=_0xf3bafa;const _0x373215=_0x3634a7['commonAncestorContainer'];while(_0x3703b0&&_0x3703b0!==_0x373215[_0x35d6ff(0x215)]){_0x3703b0['nodeType']===Node[_0x35d6ff(0x1eb)]&&_0x3634a7['intersectsNode'](_0x3703b0)&&_0x13014c['push'](_0x3703b0),_0x3703b0=this[_0x35d6ff(0x1fe)](_0x3703b0,_0x373215);}_0x13014c[_0x35d6ff(0x242)](_0x27c14e=>{const _0x1215c7=_0x35d6ff,_0x42766e=document[_0x1215c7(0x254)]();_0x42766e[_0x1215c7(0x27a)](_0x27c14e);if(_0x27c14e===_0xf3bafa)_0x42766e[_0x1215c7(0x1f0)](_0x27c14e,_0x31e8cf);if(_0x27c14e===_0x2b0a81)_0x42766e[_0x1215c7(0x1fd)](_0x27c14e,_0x15e117);if(_0x42766e[_0x1215c7(0x248)]()['trim']()){const _0x525d60=document['createElement'](_0x1215c7(0x26c));_0x525d60[_0x1215c7(0x211)]='highlight',_0x42766e[_0x1215c7(0x203)](_0x525d60),_0x468b3e[_0x1215c7(0x1ed)](_0x525d60);}});}if(_0x468b3e[_0x35d6ff(0x1e7)]){const _0x417282=document[_0x35d6ff(0x254)]();_0x417282[_0x35d6ff(0x233)](_0x468b3e[0x0]),_0x417282['setEndAfter'](_0x468b3e[_0x468b3e[_0x35d6ff(0x1e7)]-0x1]),this['selectionRange']=_0x417282;}}['nextNode'](_0x3abf54,_0x2faae7){const _0x552e40=_0x4c6b2e;if(_0x3abf54[_0x552e40(0x258)])return _0x3abf54['firstChild'];while(_0x3abf54&&!_0x3abf54[_0x552e40(0x215)]&&_0x3abf54!==_0x2faae7){_0x3abf54=_0x3abf54[_0x552e40(0x20e)];}return _0x3abf54&&_0x3abf54!==_0x2faae7?_0x3abf54[_0x552e40(0x215)]:null;}}window[_0x4c6b2e(0x1e8)]={'init':_0x3f3425=>new _0x6ccb20(_0x3f3425)};}()));