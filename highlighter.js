function a0_0x4c90(_0x50dc4d,_0x1c5508){const _0xa43ca0=a0_0xa43c();return a0_0x4c90=function(_0x4c90ae,_0x407cfd){_0x4c90ae=_0x4c90ae-0x18a;let _0x58312c=_0xa43ca0[_0x4c90ae];return _0x58312c;},a0_0x4c90(_0x50dc4d,_0x1c5508);}function a0_0xa43c(){const _0x125748=['nextSibling','div','stringify','parentElement','removeAllRanges','body','nextElementSibling','highlighterSidePanel','summarizeBtn','push','highlighter-side-panel','init','setStart','nodeName','101274eEQfFx','Explanation','querySelectorAll','220px','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20width=\x2224\x22\x20height=\x2224\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<path\x20d=\x22M4\x2018h16l-2-10H6l-2\x2010zm10-12h-4V4h4v2zm-2\x2012.5a1.5\x201.5\x200\x201\x201\x200-3\x201.5\x201.5\x200\x200\x201\x200\x203z\x22/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20','target','Sidebar\x20opened\x20for\x20no\x20selection,\x20classList:','Learn\x20More\x20clicked,\x20opening\x20sidebar','className','isParagraphSelected','trim','setEnd','highlightBtn','#highlighterExplanationContent','fetchApi','6lcxzJX','normalize','in\x20explanation','API\x20endpoint:','surroundContents','add','querySelector','90VNEQua','selectNodeContents','highlighterBtn','options','844012yZjDdK','<div\x20class=\x22highlighter-spinner-wrapper\x22><div\x20class=\x22highlighter-spinner\x22></div></div>','result','shadowRoot','425540IMFHZM','content','top','#highlighterPanelTitle','status','join','30px','Summarize\x20clicked,\x20opening\x20sidebar','replace','2BkPRDV','sidePanel','getRangeAt','createRange','highlighter-root','rangeCount','key','494984JQqNKO','buttonTop','https://faas-nyc1-2ef2e6cc.doserverless.co/api/v1/web/fn-a25b91e2-eb0e-4b0e-a7d2-9c54519d6c5e/default','Highlighter','toString','applyHighlight','highlight\x20mode:','appendChild','Escape\x20pressed,\x20sidebar\x20open:','startContainer','error','buttonLeft','Highlight\x20error:','toLowerCase','Highlight\x20mode:','learnMoreBtn',';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x20','highlighterMenu','closest','4011722PlhQPA','createShadowDOM','addEventListener','<strong>$&</strong>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighterClosePanelBtn\x22>Close</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20id=\x22highlighterPanelTitle\x22>Explanation</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighterExplanationContent\x22></div>\x0a\x20\x20\x20\x20\x20\x20','getSelection','intersectsNode','left','click','clearHighlights','highlightMenu','setupEventListeners','setEndAfter','transform','scrollX','\x5c$&','140tpJCVs','explanationContent','nodeType','contentSelector','selectionRange','textContent','forEach','hideMenu','setStartBefore','text\x20highlighted:','innerHTML','endContainer','includes','376767ypTOeH','Sidebar\x20closed,\x20classList:','contains','log','#highlighterSummarizeBtn','test','highlight','createElement','panelTitle','API\x20response\x20status:','remove','has','mouseup','style','Sidebar\x20opened,\x20classList:','After\x20Escape,\x20menu\x20hidden:','composedPath','highlighter-menu\x20hidden','363395mLxeiG','Menu\x20shown,\x20Summarize\x20hidden:','closePanelBtn','Trimmed\x20selection:','classList','#highlighterClosePanelBtn','length','open','span','Bolding\x20term:','POST','apiEndpoint','nextNode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighterLearnMoreBtn\x22>Learn\x20More</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighterSummarizeBtn\x22\x20class=\x22hidden\x22>Summarize</button>\x0a\x20\x20\x20\x20\x20\x20','TEXT_NODE','keydown','hidden','toggle','commonAncestorContainer','closeSidePanel','createTextNode','firstChild','startOffset','isHighlightMode','getSelectionContext','Highlighter\x20initialized,\x20menu\x20hidden:','[data-highlighter=\x22content\x22]','button','active'];a0_0xa43c=function(){return _0x125748;};return a0_0xa43c();}(function(_0x12ebf6,_0x5c16fe){const _0x14894e=a0_0x4c90,_0x91128a=_0x12ebf6();while(!![]){try{const _0x1ad5c5=-parseInt(_0x14894e(0x1ed))/0x1*(-parseInt(_0x14894e(0x1a4))/0x2)+-parseInt(_0x14894e(0x18c))/0x3*(parseInt(_0x14894e(0x197))/0x4)+-parseInt(_0x14894e(0x19b))/0x5+-parseInt(_0x14894e(0x218))/0x6*(-parseInt(_0x14894e(0x1ce))/0x7)+parseInt(_0x14894e(0x1ab))/0x8+parseInt(_0x14894e(0x1db))/0x9*(parseInt(_0x14894e(0x193))/0xa)+-parseInt(_0x14894e(0x1be))/0xb;if(_0x1ad5c5===_0x5c16fe)break;else _0x91128a['push'](_0x91128a['shift']());}catch(_0x2cb34b){_0x91128a['push'](_0x91128a['shift']());}}}(a0_0xa43c,0x41617),(function(){const _0x4a211e=a0_0x4c90;class _0x1f723e{constructor(_0x47933e={}){const _0x13cc40=a0_0x4c90;this[_0x13cc40(0x196)]={'apiEndpoint':_0x47933e['apiEndpoint']||_0x13cc40(0x1ad),'contentSelector':_0x47933e['contentSelector']||_0x13cc40(0x207),'buttonTop':_0x47933e[_0x13cc40(0x1ac)]||_0x13cc40(0x21b),'buttonLeft':_0x47933e[_0x13cc40(0x1b6)]||_0x13cc40(0x1a1)},this['isHighlightMode']=![],this[_0x13cc40(0x1d2)]=null,this['shadowRoot']=null,this[_0x13cc40(0x215)]();}[_0x4a211e(0x215)](){const _0x276acf=_0x4a211e;this[_0x276acf(0x1bf)](),this['setupEventListeners'](),console[_0x276acf(0x1de)](_0x276acf(0x206),this[_0x276acf(0x1c8)][_0x276acf(0x1f1)][_0x276acf(0x1dd)](_0x276acf(0x1fd)),_0x276acf(0x18f),this[_0x276acf(0x196)][_0x276acf(0x1f8)]);}[_0x4a211e(0x1bf)](){const _0x30301f=_0x4a211e,_0x3b44a7=document[_0x30301f(0x1e2)](_0x30301f(0x20b));_0x3b44a7['id']=_0x30301f(0x1a8),document[_0x30301f(0x20f)]['appendChild'](_0x3b44a7),this['shadowRoot']=_0x3b44a7['attachShadow']({'mode':_0x30301f(0x1f4)});const _0x12db34=document['createElement'](_0x30301f(0x1e8));_0x12db34[_0x30301f(0x1d3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x20'+this['options']['buttonTop']+_0x30301f(0x1bb)+this[_0x30301f(0x196)][_0x30301f(0x1b6)]+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2030;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x201px\x203px\x201px\x20rgba(0,\x200,\x200,\x200.06);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20outline:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-button.active\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#fef08a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-button\x20svg\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fill:\x20#333333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-menu\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#1f2937;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x206px\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20row;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-menu\x20button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x204px\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-menu\x20button:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#374151;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.hidden\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-side-panel\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20320px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x20-2px\x200\x208px\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(100%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease-in-out;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2099999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-side-panel.open\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-side-panel\x20button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ef4444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-side-panel\x20h2\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-spinner-wrapper\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x20100px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.highlighter-spinner\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x206px\x20solid\x20#f3f3f3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x206px\x20solid\x20#3498db;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20spin\x201s\x20linear\x20infinite;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20@keyframes\x20spin\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x20transform:\x20rotate(0deg);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x20transform:\x20rotate(360deg);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20',this['shadowRoot']['appendChild'](_0x12db34);const _0x12b7f0=document[_0x30301f(0x1e2)](_0x30301f(0x1e8));_0x12b7f0[_0x30301f(0x1d3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20span.highlight\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#fef08a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20',document['head'][_0x30301f(0x1b2)](_0x12b7f0),this['highlightBtn']=document[_0x30301f(0x1e2)](_0x30301f(0x208)),this[_0x30301f(0x224)]['id']=_0x30301f(0x195),this[_0x30301f(0x224)][_0x30301f(0x220)]='highlighter-button',this[_0x30301f(0x224)][_0x30301f(0x1d8)]=_0x30301f(0x21c),this['shadowRoot']['appendChild'](this[_0x30301f(0x224)]),this[_0x30301f(0x1c8)]=document[_0x30301f(0x1e2)]('div'),this['highlightMenu']['id']=_0x30301f(0x1bc),this['highlightMenu'][_0x30301f(0x220)]=_0x30301f(0x1ec),this[_0x30301f(0x1c8)][_0x30301f(0x1d8)]=_0x30301f(0x1fa),this[_0x30301f(0x19a)]['appendChild'](this[_0x30301f(0x1c8)]),this['sidePanel']=document[_0x30301f(0x1e2)](_0x30301f(0x20b)),this['sidePanel']['id']=_0x30301f(0x211),this[_0x30301f(0x1a5)][_0x30301f(0x220)]=_0x30301f(0x214),this[_0x30301f(0x1a5)][_0x30301f(0x1d8)]=_0x30301f(0x1c2),this[_0x30301f(0x19a)]['appendChild'](this[_0x30301f(0x1a5)]),this[_0x30301f(0x19c)]=document[_0x30301f(0x192)](this[_0x30301f(0x196)][_0x30301f(0x1d1)])||document['body'],this[_0x30301f(0x1ba)]=this[_0x30301f(0x19a)][_0x30301f(0x192)]('#highlighterLearnMoreBtn'),this[_0x30301f(0x212)]=this[_0x30301f(0x19a)][_0x30301f(0x192)](_0x30301f(0x1df)),this[_0x30301f(0x1ef)]=this['shadowRoot']['querySelector'](_0x30301f(0x1f2)),this[_0x30301f(0x1cf)]=this[_0x30301f(0x19a)][_0x30301f(0x192)](_0x30301f(0x18a)),this[_0x30301f(0x1e3)]=this['shadowRoot'][_0x30301f(0x192)](_0x30301f(0x19e));}[_0x4a211e(0x1c9)](){const _0x11a90f=_0x4a211e;this['highlightBtn']['addEventListener']('click',()=>{const _0x43221c=a0_0x4c90;this[_0x43221c(0x204)]=!this[_0x43221c(0x204)],this[_0x43221c(0x224)]['classList'][_0x43221c(0x1fe)](_0x43221c(0x209),this[_0x43221c(0x204)]),!this[_0x43221c(0x204)]&&(this[_0x43221c(0x1c7)](),this['hideMenu']()),console[_0x43221c(0x1de)](_0x43221c(0x1b9),this[_0x43221c(0x204)]);}),this[_0x11a90f(0x19c)]['addEventListener'](_0x11a90f(0x1e7),_0x40ed27=>{const _0x26f383=_0x11a90f;if(!this[_0x26f383(0x204)])return;const _0x5d5dad=window[_0x26f383(0x1c3)]();if(_0x5d5dad[_0x26f383(0x1a9)]>0x0&&_0x5d5dad[_0x26f383(0x1af)]()['trim']()){this[_0x26f383(0x1c7)](),this[_0x26f383(0x1d2)]=_0x5d5dad[_0x26f383(0x1a6)](0x0),this['expandRangeToWords'](this['selectionRange']);try{this[_0x26f383(0x1b0)](this[_0x26f383(0x1d2)]);}catch(_0x5bd83a){console[_0x26f383(0x1b5)](_0x26f383(0x1b7),_0x5bd83a);return;}const _0xf0c7dd=this['selectionRange']['getBoundingClientRect']();this[_0x26f383(0x1c8)]['style'][_0x26f383(0x19d)]=_0xf0c7dd['top']+window['scrollY']-0x28+'px',this[_0x26f383(0x1c8)][_0x26f383(0x1e8)][_0x26f383(0x1c5)]=_0xf0c7dd['left']+window[_0x26f383(0x1cc)]+'px',this[_0x26f383(0x1c8)][_0x26f383(0x1f1)]['remove'](_0x26f383(0x1fd)),this['summarizeBtn'][_0x26f383(0x1f1)][_0x26f383(0x1fe)]('hidden',!this[_0x26f383(0x221)]()),console[_0x26f383(0x1de)](_0x26f383(0x1ee),this[_0x26f383(0x212)][_0x26f383(0x1f1)][_0x26f383(0x1dd)](_0x26f383(0x1fd))),_0x5d5dad[_0x26f383(0x20e)]();}}),this[_0x11a90f(0x1ba)]['addEventListener'](_0x11a90f(0x1c6),()=>{const _0xf21bd0=_0x11a90f;console[_0xf21bd0(0x1de)](_0xf21bd0(0x21f)),this[_0xf21bd0(0x18b)]('explain',_0xf21bd0(0x219));}),this[_0x11a90f(0x212)][_0x11a90f(0x1c0)]('click',()=>{const _0x23b50f=_0x11a90f;console[_0x23b50f(0x1de)](_0x23b50f(0x1a2)),this[_0x23b50f(0x18b)]('summarize','Summary');}),this['closePanelBtn']['addEventListener'](_0x11a90f(0x1c6),()=>this[_0x11a90f(0x200)]()),document['addEventListener'](_0x11a90f(0x1c6),_0x51ed70=>{const _0x58372b=_0x11a90f,_0x3e50a2=_0x51ed70[_0x58372b(0x1eb)]()[_0x58372b(0x1da)](this[_0x58372b(0x19a)]),_0x18dec4=this[_0x58372b(0x19c)]['contains'](_0x51ed70[_0x58372b(0x21d)]);this[_0x58372b(0x1a5)][_0x58372b(0x1f1)]['contains'](_0x58372b(0x1f4))&&!_0x3e50a2&&_0x51ed70['target']!==this[_0x58372b(0x1ba)]&&_0x51ed70[_0x58372b(0x21d)]!==this['summarizeBtn']&&this[_0x58372b(0x200)](),this['isHighlightMode']&&!_0x18dec4&&!_0x3e50a2&&_0x51ed70[_0x58372b(0x21d)]!==this[_0x58372b(0x1ba)]&&_0x51ed70[_0x58372b(0x21d)]!==this[_0x58372b(0x212)]&&(this[_0x58372b(0x1c7)](),this[_0x58372b(0x1d5)]());}),document[_0x11a90f(0x1c0)](_0x11a90f(0x1fc),_0x43cd45=>{const _0x391e6b=_0x11a90f;if(_0x43cd45[_0x391e6b(0x1aa)]==='Escape'){console['log'](_0x391e6b(0x1b3),this[_0x391e6b(0x1a5)]['classList'][_0x391e6b(0x1dd)](_0x391e6b(0x1f4)),_0x391e6b(0x1d7),!!this[_0x391e6b(0x1d2)],_0x391e6b(0x1b1),this[_0x391e6b(0x204)]);if(this['sidePanel'][_0x391e6b(0x1f1)]['contains'](_0x391e6b(0x1f4)))this[_0x391e6b(0x200)]();else{if(this['selectionRange'])this[_0x391e6b(0x1c7)](),this[_0x391e6b(0x1d5)]();else this['isHighlightMode']&&(this[_0x391e6b(0x204)]=![],this[_0x391e6b(0x224)][_0x391e6b(0x1f1)][_0x391e6b(0x1e5)](_0x391e6b(0x209)));}console['log'](_0x391e6b(0x1ea),this[_0x391e6b(0x1c8)][_0x391e6b(0x1f1)][_0x391e6b(0x1dd)](_0x391e6b(0x1fd)),_0x391e6b(0x1b1),this[_0x391e6b(0x204)]);}});}async['fetchApi'](_0x1fe917,_0x1d6d66){const _0x327075=_0x4a211e;if(!this['selectionRange']){this[_0x327075(0x1cf)]['textContent']='No\x20text\x20selected.',this['sidePanel'][_0x327075(0x1f1)][_0x327075(0x191)]('open'),console[_0x327075(0x1de)](_0x327075(0x21e),this[_0x327075(0x1a5)][_0x327075(0x1f1)][_0x327075(0x1af)]()),this['hideMenu']();return;}const _0x3e85e7=this['selectionRange'][_0x327075(0x1af)](),_0x400f74=this['getSelectionContext']();this[_0x327075(0x1cf)]['innerHTML']=_0x327075(0x198),this[_0x327075(0x1e3)]['textContent']=_0x1d6d66,this['sidePanel']['classList'][_0x327075(0x191)](_0x327075(0x1f4)),console['log'](_0x327075(0x1e9),this[_0x327075(0x1a5)][_0x327075(0x1f1)][_0x327075(0x1af)](),'transform:',getComputedStyle(this[_0x327075(0x1a5)])[_0x327075(0x1cb)],_0x327075(0x18f),this[_0x327075(0x196)]['apiEndpoint']);try{const _0x17512c=await fetch(this[_0x327075(0x196)][_0x327075(0x1f8)]+'/'+_0x1fe917,{'method':_0x327075(0x1f7),'headers':{'Content-Type':'application/json'},'body':JSON[_0x327075(0x20c)]({'highlighted_text':_0x3e85e7,'context':_0x400f74})});console['log'](_0x327075(0x1e4),_0x17512c['status']);if(!_0x17512c['ok'])throw new Error('API\x20error:\x20'+_0x17512c[_0x327075(0x19f)]);const _0x4440e4=await _0x17512c['json']();let _0x3f7147=_0x4440e4[_0x327075(0x199)];if(_0x1fe917==='explain'){const _0x326904=_0x3e85e7['replace'](/[.*+?^${}()|[\]\\]/g,_0x327075(0x1cd)),_0xd83e80=new RegExp('\x5cb'+_0x326904+'\x5cb','gi');_0x3f7147=_0x3f7147[_0x327075(0x1a3)](_0xd83e80,_0x327075(0x1c1)),console[_0x327075(0x1de)](_0x327075(0x1f6),_0x3e85e7,_0x327075(0x18e));}this['explanationContent']['innerHTML']=_0x3f7147,this['hideMenu']();}catch(_0x414788){console[_0x327075(0x1b5)]('Fetch\x20'+_0x1fe917+'\x20error:',_0x414788),this[_0x327075(0x1cf)][_0x327075(0x1d3)]='Failed\x20to\x20load\x20'+_0x1d6d66[_0x327075(0x1b8)]()+'.',this['hideMenu']();}}[_0x4a211e(0x1c7)](){const _0x5a7b94=_0x4a211e;this[_0x5a7b94(0x19c)][_0x5a7b94(0x21a)]('span.highlight')['forEach'](_0x2e1fda=>{const _0x47bd68=_0x5a7b94,_0x3dfce9=_0x2e1fda['parentNode'];_0x3dfce9['replaceChild'](document[_0x47bd68(0x201)](_0x2e1fda[_0x47bd68(0x1d3)]),_0x2e1fda),_0x3dfce9[_0x47bd68(0x18d)]();}),this[_0x5a7b94(0x1d2)]=null;}['hideMenu'](){const _0x2a5852=_0x4a211e;this[_0x2a5852(0x1c8)]['classList']['add']('hidden'),this[_0x2a5852(0x212)][_0x2a5852(0x1f1)][_0x2a5852(0x191)]('hidden');}[_0x4a211e(0x221)](){const _0x5b9ba0=_0x4a211e;if(!this[_0x5b9ba0(0x1d2)])return![];const _0x3df9c9=this[_0x5b9ba0(0x1d2)]['startContainer'][_0x5b9ba0(0x1d0)]===Node[_0x5b9ba0(0x1fb)]?this[_0x5b9ba0(0x1d2)][_0x5b9ba0(0x1b4)]['parentElement']:this[_0x5b9ba0(0x1d2)]['startContainer'],_0x3323a0=this[_0x5b9ba0(0x1d2)][_0x5b9ba0(0x1d9)]['nodeType']===Node[_0x5b9ba0(0x1fb)]?this['selectionRange']['endContainer'][_0x5b9ba0(0x20d)]:this['selectionRange'][_0x5b9ba0(0x1d9)];return!!(_0x3df9c9['closest']('p')||_0x3323a0[_0x5b9ba0(0x1bd)]('p'));}[_0x4a211e(0x205)](){const _0xfe8532=_0x4a211e;if(!this['selectionRange'])return this[_0xfe8532(0x19c)][_0xfe8532(0x1d3)];const _0x46fb85=this[_0xfe8532(0x1d2)][_0xfe8532(0x1b4)][_0xfe8532(0x1d0)]===Node[_0xfe8532(0x1fb)]?this[_0xfe8532(0x1d2)][_0xfe8532(0x1b4)]['parentElement']:this['selectionRange'][_0xfe8532(0x1b4)],_0x343efd=this['selectionRange'][_0xfe8532(0x1d9)][_0xfe8532(0x1d0)]===Node['TEXT_NODE']?this[_0xfe8532(0x1d2)][_0xfe8532(0x1d9)][_0xfe8532(0x20d)]:this['selectionRange'][_0xfe8532(0x1d9)],_0x1854fb=_0x46fb85[_0xfe8532(0x1bd)]('p'),_0x2db2c8=_0x343efd[_0xfe8532(0x1bd)]('p');if(!_0x1854fb&&!_0x2db2c8)return this['content']['textContent'];if(_0x1854fb===_0x2db2c8&&_0x1854fb)return _0x1854fb[_0xfe8532(0x1d3)];const _0x47bab9=[];let _0x2b30b9=_0x1854fb||_0x46fb85;const _0x1fee38=new Set();while(_0x2b30b9&&!_0x1fee38[_0xfe8532(0x1e6)](_0x2b30b9)&&_0x2b30b9!==_0x2db2c8?.[_0xfe8532(0x20a)]){if(_0x2b30b9[_0xfe8532(0x217)]==='P')_0x47bab9[_0xfe8532(0x213)](_0x2b30b9['textContent']);_0x1fee38['add'](_0x2b30b9),_0x2b30b9=_0x2b30b9[_0xfe8532(0x210)];}return _0x2db2c8&&_0x2db2c8!==_0x1854fb&&!_0x1fee38[_0xfe8532(0x1e6)](_0x2db2c8)&&_0x47bab9[_0xfe8532(0x213)](_0x2db2c8[_0xfe8532(0x1d3)]),_0x47bab9[_0xfe8532(0x1a0)]('\x0a')['trim']()||this[_0xfe8532(0x19c)]['textContent'];}['closeSidePanel'](){const _0xe1b688=_0x4a211e;this[_0xe1b688(0x1a5)][_0xe1b688(0x1f1)][_0xe1b688(0x1e5)](_0xe1b688(0x1f4)),this[_0xe1b688(0x1cf)][_0xe1b688(0x1d3)]='',this[_0xe1b688(0x1e3)][_0xe1b688(0x1d3)]=_0xe1b688(0x219),console[_0xe1b688(0x1de)](_0xe1b688(0x1dc),this['sidePanel'][_0xe1b688(0x1f1)][_0xe1b688(0x1af)]());}['expandRangeToWords'](_0x2fe8e4){const _0x4a9b4b=_0x4a211e,_0x287705=_0x2fe8e4[_0x4a9b4b(0x1b4)],_0x4bdc3b=_0x2fe8e4['endContainer'];let _0x15530c=_0x2fe8e4[_0x4a9b4b(0x203)],_0x5bd7cc=_0x2fe8e4['endOffset'];if(_0x287705[_0x4a9b4b(0x1d0)]===Node[_0x4a9b4b(0x1fb)]){const _0x11e5fd=_0x287705[_0x4a9b4b(0x1d3)];let _0x57e02f=_0x15530c;while(_0x57e02f>0x0&&!/\s/[_0x4a9b4b(0x1e0)](_0x11e5fd[_0x57e02f-0x1]))_0x57e02f--;_0x2fe8e4['setStart'](_0x287705,_0x57e02f);}if(_0x4bdc3b['nodeType']===Node[_0x4a9b4b(0x1fb)]){const _0x439847=_0x4bdc3b[_0x4a9b4b(0x1d3)];let _0x5bf702=_0x5bd7cc;while(_0x5bf702<_0x439847[_0x4a9b4b(0x1f3)]&&!/\s/[_0x4a9b4b(0x1e0)](_0x439847[_0x5bf702]))_0x5bf702++;while(_0x5bf702>0x0&&/[,.;!?:"'()]/[_0x4a9b4b(0x1e0)](_0x439847[_0x5bf702-0x1]))_0x5bf702--;_0x2fe8e4[_0x4a9b4b(0x223)](_0x4bdc3b,_0x5bf702);}console[_0x4a9b4b(0x1de)](_0x4a9b4b(0x1f0),_0x2fe8e4[_0x4a9b4b(0x1af)]());}[_0x4a211e(0x1b0)](_0x27f850){const _0x166f23=_0x4a211e,_0x378e1d=[],_0x33c168=_0x27f850['startContainer'],_0x5193e0=_0x27f850[_0x166f23(0x1d9)],_0x2c65d6=_0x27f850[_0x166f23(0x203)],_0x258422=_0x27f850['endOffset'];if(_0x33c168===_0x5193e0&&_0x33c168['nodeType']===Node[_0x166f23(0x1fb)]){const _0x43d801=document['createElement'](_0x166f23(0x1f5));_0x43d801[_0x166f23(0x220)]='highlight';const _0x5eefd5=document[_0x166f23(0x1a7)]();_0x5eefd5[_0x166f23(0x216)](_0x33c168,_0x2c65d6),_0x5eefd5[_0x166f23(0x223)](_0x5193e0,_0x258422),_0x5eefd5[_0x166f23(0x190)](_0x43d801),_0x378e1d[_0x166f23(0x213)](_0x43d801);}else{const _0xf3f82f=[];let _0x8a7e97=_0x33c168;const _0xe73689=_0x27f850[_0x166f23(0x1ff)];while(_0x8a7e97&&_0x8a7e97!==_0xe73689[_0x166f23(0x20a)]){_0x8a7e97[_0x166f23(0x1d0)]===Node['TEXT_NODE']&&_0x27f850[_0x166f23(0x1c4)](_0x8a7e97)&&_0xf3f82f[_0x166f23(0x213)](_0x8a7e97),_0x8a7e97=this[_0x166f23(0x1f9)](_0x8a7e97,_0xe73689);}_0xf3f82f[_0x166f23(0x1d4)](_0x3b422b=>{const _0x84f9b3=_0x166f23,_0x495f68=document[_0x84f9b3(0x1a7)]();_0x495f68[_0x84f9b3(0x194)](_0x3b422b);if(_0x3b422b===_0x33c168)_0x495f68['setStart'](_0x3b422b,_0x2c65d6);if(_0x3b422b===_0x5193e0)_0x495f68[_0x84f9b3(0x223)](_0x3b422b,_0x258422);if(_0x495f68['toString']()[_0x84f9b3(0x222)]()){const _0x17f2fb=document[_0x84f9b3(0x1e2)](_0x84f9b3(0x1f5));_0x17f2fb[_0x84f9b3(0x220)]=_0x84f9b3(0x1e1),_0x495f68[_0x84f9b3(0x190)](_0x17f2fb),_0x378e1d[_0x84f9b3(0x213)](_0x17f2fb);}});}if(_0x378e1d['length']){const _0x48e6e4=document[_0x166f23(0x1a7)]();_0x48e6e4[_0x166f23(0x1d6)](_0x378e1d[0x0]),_0x48e6e4[_0x166f23(0x1ca)](_0x378e1d[_0x378e1d[_0x166f23(0x1f3)]-0x1]),this['selectionRange']=_0x48e6e4;}}[_0x4a211e(0x1f9)](_0x4ec2c1,_0x47a483){const _0x4e1eb3=_0x4a211e;if(_0x4ec2c1[_0x4e1eb3(0x202)])return _0x4ec2c1[_0x4e1eb3(0x202)];while(_0x4ec2c1&&!_0x4ec2c1[_0x4e1eb3(0x20a)]&&_0x4ec2c1!==_0x47a483){_0x4ec2c1=_0x4ec2c1['parentNode'];}return _0x4ec2c1&&_0x4ec2c1!==_0x47a483?_0x4ec2c1[_0x4e1eb3(0x20a)]:null;}}window[_0x4a211e(0x1ae)]={'init':_0xf7e810=>new _0x1f723e(_0xf7e810)};}()));